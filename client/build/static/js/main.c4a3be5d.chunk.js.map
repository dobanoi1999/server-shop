{"version":3,"sources":["api/axiosClient.js","api/cartApi.js","api/categoryApi.js","component/common/LoggedRoute.js","component/common/PrivateRoute.js","api/authApi.js","api/productApi.js","assets/images/user.jpg","globalCss.js","component/shared/Toast/Toast.js","hooks/useForm.js","redux/action/modal.js","component/auth/loginForm/loginForm.element.js","component/auth/loginForm/loginForm.jsx","component/auth/register/register.jsx","component/header/header.element.js","component/header/header.jsx","hooks/useWindowSize.js","redux/action/cart.js","component/product/ProductDetail/productDetail.element.js","component/product/ProductDetail/productDetail.jsx","redux/action/product.js","component/product/ProductItem/productItem.element.js","component/product/ProductItem/productItem.js","component/product/ProductList/productList.element.js","component/product/ProductList/productList.js","component/CreateProduct/CreateProduct.element.js","component/CreateProduct/CreateProduct.js","component/Category/Category.element.js","component/Category/Category.js","redux/action/category.js","component/CartItem/CartItem.element.js","component/CartItem/CartItem.js","component/ListCart/Cart.element.js","component/ListCart/Cart.js","api/orderApi.js","component/CheckOut/CheckOut.element.js","component/CheckOut/CheckOut.js","redux/action/order.js","component/Order/Order.element.js","component/Order/Order.jsx","component/Order/OrderDetail/OrderDetail.element.js","component/Order/OrderDetail/OrderDetail.jsx","api/historyApi.js","component/History/History.jsx","component/History/HistoryDetail/HistoryDetail.jsx","component/UpdateProduct/UpdateProduct.jsx","component/footer/footer.element.js","component/footer/footer.jsx","component/Modal/Modal.element.js","component/Modal/Modal.jsx","App.js","redux/reducers/product.js","redux/reducers/auth.js","redux/reducers/category.js","redux/reducers/cart.js","redux/reducers/order.js","redux/reducers/modal.js","redux/reducers/index.js","redux/store.js","index.js"],"names":["axiosClient","axios","create","baseURL","headers","localStorage","getItem","paramsSerializer","params","queryString","stringify","interceptors","response","use","data","err","status","clear","console","log","cartApi","getCart","token","get","addToCart","product","quantity","post","changeQuality","t","id","url","action","deleteCart","put","remove","categoryApi","fetchAllCategory","update","name","delete","LoggedRoute","Component","component","rest","isLogged","useSelector","state","auth","render","props","to","PrivateRoute","isAdmin","userId","authApi","login","register","getInfor","verify","productApi","getAll","deleteAll","GlobalStyle","createGlobalStyle","Container","styled","div","Button","button","bgColor","big","fontBig","block","Toast","success","content","config","toast","warn","error","useForm","callback","useState","username","email","password","values","setValues","setErr","handleOnChange","e","target","value","handleSubmit","preventDefault","then","res","msg","setItem","window","location","href","catch","changeShow","payload","type","setModalView","Fade","keyframes","Form","form","LoginForm","dispatch","useDispatch","onSubmit","style","borderRadius","src","userImg","width","height","alt","placeholder","required","onChange","onClick","Register","HeaderContainer","CompanyName","Link","MobileIcon","Search","StyledRouter","ul","click","SearchInput","input","StyledItem","li","Route","AdminRouter","Header","history","useHistory","setClick","cart","handleClick","handleSetViewModal","view","UserRouter","length","push","useWindowSize","undefined","windowSize","setWindowSize","useEffect","handleResize","innerWidth","innerHeight","addEventListener","removeEventListener","addProductToCart","item","DetailProduct","Detail","Name","p","Desc","Price","span","Image","Wrapper","WrapperQuantity","SwiperCore","Navigation","Item","ProductDetail","param","useParams","setProduct","setQuantity","find","i","_id","handleChangeQuantity","isNaN","image","title","price","description","alert","autoClose","padding","slidesPerView","navigation","spaceBetween","map","category","cursor","loading","format","fontSize","textAlign","img","NameProduct","BtnDel","hide","Modal","ProductItem","index","sending","setSending","confirm","removeProduct","ListProduct","ProductList","search","URLSearchParams","useLocation","filter","toLowerCase","indexOf","marginTop","float","x","y","rx","ry","Container2","Title","h2","Label","label","Input","Select","select","Option","option","CreateProduct","toggleModal","initialState","file","setData","handleOnchange","files","formData","FormData","append","newData","newImage","updateProduct","addProduct","disabled","ContainerOver","StyledWrapper","ListCategory","CategoryName","CategoryItem","FormCreate","Category","cate","setCate","isCreate","setIsCreate","findIndex","arr","indx","addCategory","updateCategory","dis","CartItems","NumberItem","IncreaseBtn","Count","DecreaseBtn","CartItem","card","setLoading","handleChangeQuality","increaseCart","decreaseCart","display","alignItems","Fade2","ListCart","Table","CheckOutContainer","Cart","total","color","orderApi","fetchOrder","createOrder","cancelOrder","getOrder","Head","AddressInfor","ListItem","table","Total","CheckOut","toggle","setToggle","number","province","districts","wards","address","setAddress","Districts","wart","Wards","newAddress","phone","ContainerHistory","Action","td","Status","$status","Order","orders","setOrders","date","Date","createdAt","toLocaleDateString","DetailContainer","OrderDetail","OrderId","Address","OrderDe","order","setOrder","backgroundColor","objectFit","require","default","historyApi","changeStatus","History","handleChangeStatus","HistoryDetail","UpdateProduct","setIndex","Footer","footer","Contact","ContactItem","About","size","ModalElement","ButtonCloseModal","WrapperForm","children","App","Number","prototype","n","re","this","toFixed","Math","max","replace","RegExp","modal","show","document","body","overflow","user","role","categorys","products","fetchProductListSuccess","fetchProductListFail","message","draggable","transition","Zoom","path","exact","productReducer","splice","authReducer","categoryReducer","cartReducer","orderReducer","rootReducer","combineReducers","modalReducer","middleware","thunk","store","createStore","applyMiddleware","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.c4a3be5d.chunk.js","sourcesContent":["import axios from \"axios\"\r\nimport queryString from 'query-string'\r\nconst baseURL = process.env.NODE_ENV === \"production\" ? \"https://e-commerce-dbn.herokuapp.com\" : \"http://localhost:8080\"\r\nconst axiosClient = axios.create({\r\n    baseURL,\r\n    headers: {\r\n        'content-type': 'application/json',\r\n        'Authorization': localStorage.getItem(\"token\")\r\n    },\r\n    paramsSerializer: params => queryString.stringify(params)\r\n})\r\naxiosClient.interceptors.response.use(response => {\r\n\r\n\r\n    if (response && response.data) return response.data\r\n}, err => {\r\n    if (err?.response?.status === 401) {\r\n        localStorage.clear()\r\n        console.log(err)\r\n    }\r\n\r\n    return err.response\r\n})\r\n\r\nexport default axiosClient\r\n\r\n","import axiosClient from './axiosClient'\r\n\r\n\r\nconst cartApi = {\r\n    getCart: (token) => {\r\n        return axiosClient.get(\"/api/cart\", {\r\n            headers: {\r\n                \"Authorization\": token\r\n            }\r\n        })\r\n    },\r\n    addToCart: (product, quantity) => {\r\n        return axiosClient.post('/api/cart', { product, quantity: +quantity })\r\n    },\r\n    changeQuality: (t, id) => {\r\n        const url = `/api/cart/${id}`\r\n\r\n        return axiosClient.post(url, { action: t })\r\n\r\n    },\r\n    deleteCart: (id) => {\r\n        const url = `/api/cart/${id}`\r\n        return axiosClient.put(url)\r\n    },\r\n    remove: () => {\r\n        const url = '/api/cart'\r\n        return axiosClient.put(url)\r\n    }\r\n}\r\nexport default cartApi","import axiosClient from './axiosClient'\r\nconst categoryApi = {\r\n    fetchAllCategory: () => {\r\n        const url = '/api/category'\r\n        return axiosClient.get(url)\r\n    },\r\n    create: (data) => {\r\n        const url = '/api/category'\r\n        return axiosClient.post(url, data)\r\n    },\r\n    update: (id, data) => {\r\n        const url = `/api/category/${id}`\r\n        return axiosClient.put(url, { name: data })\r\n    },\r\n    delete: (id) => {\r\n        const url = `/api/category/${id}`\r\n        return axiosClient.delete(url)\r\n    },\r\n}\r\nexport default categoryApi","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { Redirect, Route } from 'react-router-dom'\r\n\r\nconst LoggedRoute = ({ component: Component, ...rest }) => {\r\n    const isLogged = useSelector(state => state.auth.isLogged)\r\n\r\n    return (\r\n        <Route\r\n            {...rest}\r\n            render={props => isLogged ? <Component {...props} /> : <Redirect to=\"/\" />}\r\n        />\r\n    )\r\n}\r\n\r\nexport default LoggedRoute\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { Redirect, Route } from 'react-router-dom'\r\nconst PrivateRoute = ({ component: Component, ...rest }) => {\r\n    const isAdmin = useSelector(state => state.auth.isAdmin)\r\n    return (\r\n        <Route\r\n            {...rest}\r\n            render={props =>\r\n                isAdmin ? <Component {...props} /> : <Redirect to='/' />\r\n            }\r\n        />\r\n    )\r\n}\r\n\r\nexport default PrivateRoute\r\n","import axiosClient from './axiosClient'\r\nconst userId = localStorage.getItem(\"userid\") || \"\"\r\nconst authApi = {\r\n    login: (data) => {\r\n        const url = '/api/user/login'\r\n        return axiosClient.post(url, data)\r\n    },\r\n    register: (data) => {\r\n        const url = '/api/user/register'\r\n        return axiosClient.post(url, data)\r\n    },\r\n    getInfor: () => {\r\n        const url = `/api/user/${userId}`\r\n        return axiosClient.get(url)\r\n    },\r\n    verify: () => {\r\n        const url = `/api/user/verify`\r\n        return axiosClient.get(url)\r\n    }\r\n}\r\nexport default authApi","import axiosClient from './axiosClient'\r\n\r\nconst productApi = {\r\n    getAll: (params) => {\r\n        const url = '/api/product'\r\n        return axiosClient.get(url, { params })\r\n    },\r\n    create: (data) => {\r\n        const url = `/api/product`\r\n        return axiosClient.post(url, data)\r\n    },\r\n    update: (id, data) => {\r\n        const url = `/api/product/${id}`\r\n        return axiosClient.put(url, data)\r\n    },\r\n    delete: (id) => {\r\n        const url = `/api/product/${id}`\r\n        return axiosClient.delete(url)\r\n    },\r\n    deleteAll: () => {\r\n        const url = '/api/product'\r\n        return axiosClient.delete(url)\r\n    }\r\n}\r\nexport default productApi","export default __webpack_public_path__ + \"static/media/user.43ebe323.jpg\";","import styled, { createGlobalStyle } from \"styled-components\";\r\nconst GlobalStyle = createGlobalStyle`\r\n*{\r\n    font-size:16px;\r\n    box-sizing:border-box;\r\n    margin:0;\r\n    padding:0;\r\n    font-family:-apple-system, \r\n    BlinkMacSystemFont, 'Segoe UI', \r\n    Roboto, Oxygen, Ubuntu, Cantarell, \r\n    'Open Sans', 'Helvetica Neue', sans-serif\r\n}\r\n\r\n\r\ninput,button{\r\n    \r\n    \r\n    border-radius:4px;\r\n    border:none;\r\n    outline:none;\r\n    text-align:center;\r\n   \r\n}\r\n\r\n\r\n\r\n\r\ninput{\r\n    padding:10px 5px;\r\n    color: black !important;\r\n    background-color:#ced4da;\r\n    width:100%;\r\n    &:focus{ \r\n    border:3px solid #80bdff;\r\n   \r\n}\r\n}\r\n\r\n`;\r\nexport const Container = styled.div`\r\n  z-index: 1;\r\n\r\n  width: 100%;\r\n  max-width: 1300px;\r\n\r\n  margin-right: auto;\r\n  margin-left: auto;\r\n\r\n  padding-right: 50px;\r\n  padding-left: 50px;\r\n  margin-bottom: 200px;\r\n  @media screen and (max-width: 960px) {\r\n    padding-left: 10px;\r\n    padding-right: 10px;\r\n  }\r\n`;\r\nexport const Button = styled.button`\r\n       \r\n    margin:0 5px;\r\n       color:#fff;\r\n    cursor: pointer;\r\n    background-color:${({ bgColor }) => {\r\n        if (bgColor === \"primary\") return \"rgba(29, 78, 216)\";\r\n        else if (bgColor === \"cancel\") return \"rgba(239, 68, 68)\";\r\n        else return bgColor;\r\n    }};\r\n    white-space:nowrap;\r\n    padding:${({ big }) => (big ? \"12px 64px\" : \"10px 20px\")};\r\n    font-size:${({ fontBig }) => (fontBig ? \"1.5rem\" : \"1rem\")};\r\n    width:${({ block }) => (block ? \"100%\" : \"\")};\r\n    &:disabled{\r\n        opacity:.65;\r\n    }\r\n    &:active{\r\n    background-color:${({ bgColor }) => {\r\n        if (bgColor === \"primary\") return \"#2a6bb0\";\r\n        else if (bgColor === \"cancel\") return \"#8a3e45\";\r\n        else return bgColor;\r\n    }}\r\n    }\r\n    :hover{\r\n        background-color:${({ bgColor }) => {\r\n        if (bgColor === \"primary\") return \"rgba(29, 78, 216, 0.8)\";\r\n        else if (bgColor === \"cancel\") return \"rgba(239, 68, 68,0.8)\";\r\n        else return bgColor;\r\n    }}\r\n        }\r\n`;\r\n\r\nexport default GlobalStyle;\r\n","\r\nimport { toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nconst Toast = {\r\n    success: (content, config) => {\r\n        return toast.success(content, config)\r\n    },\r\n    warn: (content, config) => {\r\n        return toast.warn(content, config)\r\n    },\r\n    error: (content = \"Error undefined!!!!\", config) => {\r\n        return toast.error(content, config)\r\n    },\r\n\r\n}\r\n\r\nexport default Toast\r\n","import Toast from 'component/shared/Toast/Toast'\r\nimport { useState } from 'react'\r\n\r\n\r\nconst useForm = (callback) => {\r\n\r\n    const [values, setValues] = useState({\r\n        username: \"\",\r\n        email: \"\",\r\n        password: \"\"\r\n    })\r\n    const [err, setErr] = useState(\"\")\r\n\r\n    const handleOnChange = e => {\r\n\r\n        const { name, value } = e.target\r\n\r\n        setValues({\r\n            ...values,\r\n            [name]: value\r\n        })\r\n        setErr(\"\")\r\n    }\r\n\r\n    const handleSubmit = e => {\r\n        e.preventDefault()\r\n        callback(values)\r\n            .then(res => {\r\n\r\n                if (res?.status === 500) return Toast.error()\r\n                if (res?.status === 400) return setErr(res.data.msg)\r\n                localStorage.setItem(\"token\", res.token);\r\n\r\n                localStorage.setItem(\"userid\", res.userId)\r\n\r\n                window.location.href = \"/\"\r\n\r\n            })\r\n            .catch(err => {\r\n                console.log(err)\r\n            })\r\n\r\n    }\r\n    return { handleOnChange, values, handleSubmit, err }\r\n}\r\n\r\nexport default useForm\r\n","export const changeShow = (payload) => {\r\n    return {\r\n        type: \"CHANGE_SHOW\",\r\n        payload\r\n    }\r\n}\r\nexport const setModalView = (payload) => {\r\n    return {\r\n        type: \"SET_MODAL_VIEW\",\r\n        payload\r\n    }\r\n}","import styled, { keyframes } from \"styled-components\";\r\nimport { Container } from \"../../../globalCss\";\r\nexport const Fade = keyframes`\r\n   \r\n    from { opacity: 0; }\r\n    to   { opacity: 1; }\r\n\r\n`\r\n\r\nexport const Form = styled.form`\r\n    \r\n   background-color:#ffffff;\r\n   width:50%;\r\n    display:flex;\r\n    justify-content:space-evenly;\r\n    align-items:center;\r\n    flex-direction:column;\r\n    max-height:calc(100% - 140px);\r\n    height:100%;\r\n    padding:20px 10px;\r\n    overflow-y:auto;\r\n    border-radius:0.5rem;\r\n    > *:not(:first-child) {\r\n        margin-top:20px\r\n    }\r\n    span{\r\n        text-decoration:underline;\r\n        color:#000000;\r\n        font-weight:bold;\r\n        :hover{\r\n            cursor: pointer;\r\n            color:blueviolet;\r\n        }\r\n    }\r\n    animation: ${Fade} 700ms ease-in-out ;\r\n    @media screen and (max-width:960px){\r\n        width:100%;\r\n    }\r\n`\r\n","import authApi from \"api/authApi\";\r\nimport userImg from \"assets/images/user.jpg\";\r\nimport { Button } from \"globalCss\";\r\nimport useForm from \"hooks/useForm\";\r\nimport React from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { setModalView } from \"redux/action/modal\";\r\nimport { Form } from \"./loginForm.element\";\r\n\r\nconst LoginForm = () => {\r\n  const { values, handleOnChange, handleSubmit, err } = useForm(authApi.login);\r\n  const dispatch = useDispatch();\r\n  const isLogged = useSelector((state) => state.auth.isLogged);\r\n  if (isLogged) return <Redirect to=\"/\" />;\r\n  return (\r\n    <Form onSubmit={handleSubmit}>\r\n      <img\r\n        style={{ borderRadius: \"50%\" }}\r\n        src={userImg}\r\n        width=\"100\"\r\n        height=\"100\"\r\n        alt=\"user\"\r\n      />\r\n      <h3>Login with email & password </h3>\r\n      <input\r\n        type=\"email\"\r\n        name=\"email\"\r\n        value={values.email}\r\n        placeholder=\"Email \"\r\n        required\r\n        onChange={handleOnChange}\r\n      />\r\n      <input\r\n        type=\"password\"\r\n        name=\"password\"\r\n        value={values.password}\r\n        placeholder=\"PassWord \"\r\n        required\r\n        onChange={handleOnChange}\r\n      />\r\n      {err ? err : \"\"}\r\n      <Button bgColor=\"primary\" block type=\"submit\">\r\n        Submit\r\n      </Button>\r\n      <p>\r\n        Don't have account ?{\" \"}\r\n        <span onClick={() => dispatch(setModalView(\"REGISTER_FORM\"))}>\r\n          Register\r\n        </span>\r\n      </p>\r\n    </Form>\r\n  );\r\n};\r\n\r\nexport default LoginForm;\r\n","import { Button } from \"globalCss\";\r\nimport useForm from \"hooks/useForm\";\r\nimport React from \"react\";\r\nimport userImg from \"assets/images/user.jpg\";\r\nimport authApi from \"../../../api/authApi\";\r\nimport { Form, StyledContainer, Wrapper } from \"../loginForm/loginForm.element\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { setModalView } from \"redux/action/modal\";\r\n\r\nconst Register = () => {\r\n  const dispatch = useDispatch();\r\n  const { values, handleSubmit, handleOnChange, err } = useForm(\r\n    authApi.register\r\n  );\r\n  return (\r\n    <Form onSubmit={handleSubmit}>\r\n      <img\r\n        style={{ borderRadius: \"50%\" }}\r\n        src={userImg}\r\n        width=\"100\"\r\n        height=\"100\"\r\n        alt=\"user\"\r\n      />\r\n      <h3>REGISTER</h3>\r\n      <input\r\n        onChange={handleOnChange}\r\n        name=\"email\"\r\n        value={values.email}\r\n        type=\"email\"\r\n        placeholder=\"Email\"\r\n      />\r\n      <input\r\n        onChange={handleOnChange}\r\n        name=\"username\"\r\n        value={values.username}\r\n        type=\"text\"\r\n        placeholder=\"User Name\"\r\n      />\r\n      <input\r\n        onChange={handleOnChange}\r\n        name=\"password\"\r\n        value={values.password}\r\n        type=\"password\"\r\n        placeholder=\"Password\"\r\n      />\r\n      {err ? err : \"\"}\r\n      <Button bgColor=\"primary\" block type=\"submit\">\r\n        submit\r\n      </Button>\r\n      <p>\r\n        You already have an account{\" \"}\r\n        <span onClick={() => dispatch(setModalView(\"LOGIN_FORM\"))}>Login</span>\r\n      </p>\r\n    </Form>\r\n  );\r\n};\r\n\r\nexport default Register;\r\n","import { Link } from \"react-router-dom\";\r\nimport styled from \"styled-components\";\r\nimport { Container } from \"../../globalCss\";\r\n\r\nexport const HeaderContainer = styled(Container)`\r\nmax-width: 100%;\r\n    z-index:2;\r\n    margin-bottom:0;\r\n    background-color:#5f5f5f;\r\n    display:flex;\r\n    justify-content:space-between;\r\n    align-items:center;\r\n    padding:20px 20px;\r\n   \r\n    \r\n   > :last-child{\r\n        border:none;\r\n    }\r\n    position:sticky;  \r\n    transition:all 0.7s ;\r\n    top:0;\r\n    \r\n`\r\nexport const CompanyName = styled(Link)`\r\n    text-decoration:none;\r\n    color:#f1f1f1 !important;\r\n\r\n    cursor: pointer;\r\n    color:#0a58ca;\r\n    font-size:3rem;\r\n    @media screen and (max-width:960px){\r\n        display:none;\r\n    }\r\n    \r\n    \r\n\r\n`\r\nexport const MobileIcon = styled.div`\r\ndisplay:none;\r\n    @media screen and (max-width:960px){\r\n       \r\n        display:block;\r\n        \r\n       cursor: pointer;\r\n       &>*{\r\n        font-size:2rem;\r\n       }\r\n    }\r\n`\r\nexport const Search = styled.div`\r\n    display:flex;\r\n    flex:1;\r\n    padding:0 50px;\r\n`\r\nexport const StyledRouter = styled.ul`\r\n    display:flex;\r\n    align-items:center;\r\n    list-style:none;\r\n\r\n    @media screen and (max-width:960px){\r\n        display:flex;\r\n        flex-direction:column;\r\n        justify-content:flex-start;\r\n        width:100%;\r\n        height:90vh;\r\n        opacity:1;\r\n        transition:all 0.5s ease;\r\n        background-color:#5f5f5f;\r\n        position:absolute;\r\n        top:80px;\r\n        left:${({ click }) => click ? 0 : \"-100%\"}\r\n    }\r\n`\r\nexport const SearchInput = styled.input`\r\n    flex:1;\r\n    border:1px solid #ced4da;\r\n    text-align:start;\r\n    padding-left:5px;\r\n    border-top-right-radius:0;\r\n    border-bottom-right-radius:0;\r\n`\r\nexport const StyledItem = styled.li`\r\n    height:80px;\r\n    border-bottom:2px solid transparent;\r\n    &:hover{\r\n        border-bottom:2px solid #4b59f7;\r\n    }\r\n   \r\n`\r\n\r\nexport const Route = styled(Link)`\r\n    height:100%;\r\n    text-transform:uppercase;\r\n    text-decoration:none;\r\n    color:#fff;\r\n    display:flex;\r\n    align-items:center;\r\n    padding:0.5rem 1rem;\r\n`","import React, { useState } from \"react\";\r\nimport { FaBars, FaTimes } from \"react-icons/fa\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { changeShow, setModalView } from \"redux/action/modal\";\r\nimport {\r\n  CompanyName,\r\n  HeaderContainer,\r\n  StyledItem,\r\n  MobileIcon,\r\n  Route,\r\n  Search,\r\n  SearchInput,\r\n  StyledRouter,\r\n} from \"./header.element\";\r\n\r\nconst AdminRouter = () => {\r\n  return (\r\n    <>\r\n      <StyledItem>\r\n        <Route to=\"/\">product</Route>\r\n      </StyledItem>\r\n      <StyledItem>\r\n        <Route to=\"/create_product\">create_product</Route>\r\n      </StyledItem>\r\n      <StyledItem>\r\n        <Route to=\"/category\">category</Route>\r\n      </StyledItem>\r\n      <StyledItem>\r\n        <Route to=\"/history\">History</Route>\r\n      </StyledItem>\r\n    </>\r\n  );\r\n};\r\n\r\nconst Header = () => {\r\n  const history = useHistory();\r\n  const dispatch = useDispatch();\r\n  const { isAdmin, isLogged } = useSelector((state) => state.auth);\r\n  const [click, setClick] = useState(false);\r\n  const cart = useSelector((state) => state.cart);\r\n  const handleClick = () => setClick(!click);\r\n  const handleLogout = () => {\r\n    localStorage.clear();\r\n    window.location.href = \"/\";\r\n  };\r\n  const handleSetViewModal = (view) => {\r\n    dispatch(setModalView(view));\r\n    dispatch(changeShow(true));\r\n  };\r\n\r\n  const UserRouter = () => {\r\n    return (\r\n      <>\r\n        <StyledItem>\r\n          <Route to=\"/\">Shop</Route>\r\n        </StyledItem>\r\n        {!isAdmin && isLogged ? (\r\n          <StyledItem>\r\n            <Route to=\"/my_order\">My order</Route>\r\n          </StyledItem>\r\n        ) : (\r\n          \"\"\r\n        )}\r\n        <StyledItem>\r\n          <Route onClick={() => handleSetViewModal(\"CART\")}>\r\n            Cart({cart.length})\r\n          </Route>\r\n        </StyledItem>\r\n        {isLogged ? (\r\n          \"\"\r\n        ) : (\r\n          <>\r\n            <StyledItem onClick={() => handleSetViewModal(\"LOGIN_FORM\")}>\r\n              <Route>Login</Route>\r\n            </StyledItem>\r\n          </>\r\n        )}\r\n      </>\r\n    );\r\n  };\r\n  return (\r\n    <HeaderContainer>\r\n      <CompanyName to=\"/\">{isAdmin ? \"Admin\" : \"DobanoiShop\"}</CompanyName>\r\n      <Search>\r\n        <SearchInput\r\n          placeholder=\"search\"\r\n          type=\"text\"\r\n          onChange={(e) => {\r\n            setClick(false);\r\n            history.push(`/?search=${e.target.value}`);\r\n          }}\r\n        />\r\n      </Search>\r\n      <MobileIcon onClick={handleClick}>\r\n        {click ? <FaTimes /> : <FaBars />}\r\n      </MobileIcon>\r\n      <StyledRouter click={click} onClick={handleClick}>\r\n        {isAdmin ? <AdminRouter /> : <UserRouter />}\r\n        {isLogged ? (\r\n          <StyledItem>\r\n            <Route to=\"/\" onClick={handleLogout}>\r\n              Logout\r\n            </Route>\r\n          </StyledItem>\r\n        ) : (\r\n          \"\"\r\n        )}\r\n      </StyledRouter>\r\n    </HeaderContainer>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import React, { useEffect, useState } from 'react'\r\n\r\nfunction useWindowSize() {\r\n    const [windowSize, setWindowSize] = useState({\r\n        width: undefined,\r\n        height: undefined\r\n    })\r\n    useEffect(() => {\r\n        const handleResize = () => {\r\n            setWindowSize({\r\n                width: window.innerWidth,\r\n                height: window.innerHeight\r\n            })\r\n        }\r\n        window.addEventListener(\"resize\", handleResize)\r\n        handleResize()\r\n        return () => window.removeEventListener(\"resize\", handleResize)\r\n\r\n    }, [])\r\n\r\n    return windowSize\r\n}\r\n\r\nexport default useWindowSize\r\n","\r\nexport const getCart = (cart) => {\r\n    return {\r\n        type: \"GET_CART\",\r\n        payload: cart\r\n    }\r\n}\r\nexport const addProductToCart = (item) => {\r\n    return {\r\n        type: \"ADD_CART\",\r\n        payload: item\r\n    }\r\n}\r\nexport const increaseCart = (index) => {\r\n    return {\r\n        type: \"INCREASE\",\r\n        payload: index\r\n    }\r\n}\r\nexport const decreaseCart = (index) => {\r\n    return {\r\n        type: \"DECREASE\",\r\n        payload: index\r\n    }\r\n}\r\nexport const deleteCart = (index) => {\r\n    return {\r\n        type: \"DELETE\",\r\n        payload: index\r\n    }\r\n}","import styled from \"styled-components\";\r\nimport { Container } from \"../../../globalCss\";\r\n\r\nexport const DetailProduct = styled(Container)`\r\n\r\n   padding:50px 20px;\r\n   display:flex;\r\n   \r\n   @media screen and (max-width:960px){\r\n       \r\n       padding:10px 10px;\r\n       flex-direction:column;\r\n       align-items:center;\r\n   }\r\n    \r\n`\r\nexport const Detail = styled.div`\r\n    display:flex;\r\n    flex-direction:column;\r\n    align-items:flex-start;\r\n    flex:1;\r\n    padding:0 100px;\r\n    >*{\r\n        margin-bottom:20px\r\n    }\r\n    @media screen and (max-width:960px){\r\n        align-items:center;\r\n        padding:0;\r\n    }\r\n`\r\nexport const Name = styled.p`\r\n    color:#0a043c;\r\n    font-size:3rem;\r\n    text-transform:capitalize;\r\n`\r\nexport const Desc = styled.p`\r\n     font-size:1.5rem;\r\n     opacity:0.8;\r\n     font-style:italic;\r\n`\r\nexport const Price = styled.span`\r\n    font-size:1.3rem;\r\n    color: red;\r\n`\r\n\r\nexport const Image = styled.div`\r\n    width:50%;\r\n    height: 400px;\r\n    @media screen and (max-width:960px){\r\n        width:100%;\r\n    }\r\n    img{\r\n        width:75%;\r\n        height:100%;\r\n        margin-left:auto;\r\n        margin-right:auto;\r\n        display:block;\r\n        object-fit:cover;\r\n    }\r\n`\r\n\r\nexport const Related = styled(Container)`\r\n    display:flex;\r\n    overflow: hidden;\r\n    flex-wrap:nowrap;\r\n    overflow-x:auto;\r\n   \r\n`\r\nexport const Wrapper = styled.div`\r\n    display:flex;\r\n    \r\n`\r\nexport const WrapperQuantity = styled.div`\r\n    display:flex;\r\n    button{\r\n        padding:0 20px;\r\n        font-size:1.5rem;\r\n        font-weight:bold;\r\n        :hover{\r\n            background-color:rgba(33,33,33);\r\n            color:#fff;\r\n            cursor:pointer;\r\n            \r\n        }\r\n    }\r\n    input{\r\n        max-width:50%;\r\n        :focus {\r\n            border:none;\r\n        }\r\n        \r\n    }\r\n`","import cartApi from \"api/cartApi\";\r\nimport Toast from \"component/shared/Toast/Toast\";\r\nimport { Button } from \"globalCss\";\r\nimport useWindowSize from \"hooks/useWindowSize\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport \"react-responsive-carousel/lib/styles/carousel.min.css\";\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\nimport { addProductToCart } from \"redux/action/cart\";\r\nimport styled from \"styled-components\";\r\nimport \"swiper/components/navigation/navigation.min.css\";\r\nimport SwiperCore, { Navigation } from \"swiper/core\";\r\nimport { Swiper, SwiperSlide } from \"swiper/react\";\r\n\r\nimport \"swiper/swiper.min.css\";\r\nimport {\r\n  Desc,\r\n  Detail,\r\n  DetailProduct,\r\n  Image,\r\n  Name,\r\n  Price,\r\n  Wrapper,\r\n  WrapperQuantity,\r\n} from \"./productDetail.element\";\r\n\r\n// install Swiper modules\r\nSwiperCore.use([Navigation]);\r\nexport const Item = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  img {\r\n    width: 100%;\r\n    height: 200px;\r\n    object-fit: cover;\r\n    overflow: hidden;\r\n    :hover {\r\n      transform: scale(1.2);\r\n    }\r\n  }\r\n  div {\r\n    width: 100%;\r\n    display: flex;\r\n    justify-content: space-around;\r\n    align-items: center;\r\n    margin-top: 20px;\r\n  }\r\n  p {\r\n    display: inline;\r\n    font-size: 1.2rem;\r\n    font-weight: bold;\r\n    text-transform: capitalize;\r\n  }\r\n  span {\r\n    color: red;\r\n  }\r\n  transition: transform 600ms ease-in-out;\r\n`;\r\nexport default function ProductDetail() {\r\n  const param = useParams();\r\n  const { data } = useSelector((state) => state.product);\r\n  const isLogged = useSelector((state) => state.auth.isLogged);\r\n  const dispatch = useDispatch();\r\n  const [product, setProduct] = useState(\"\");\r\n  const [quantity, setQuantity] = useState(1);\r\n  const history = useHistory();\r\n  useEffect(() => {\r\n    if (param && data.length > 0) {\r\n      const product = data.find((i) => i._id === param.id);\r\n      setProduct(product);\r\n    }\r\n  }, [param, data]);\r\n  const windowSize = useWindowSize();\r\n\r\n  const handleDetailProduct = (_id) => {\r\n    return history.push(`/product/${_id}`);\r\n  };\r\n  const handleAddProduct = () => {\r\n    if (!isLogged) return alert(\"please login to add\");\r\n    cartApi\r\n      .addToCart(product, quantity)\r\n      .then((res) => {\r\n        if (res.status === 500) {\r\n          return Toast.warn(res.data.msg);\r\n        }\r\n\r\n        dispatch(addProductToCart({ product, quantity }));\r\n        Toast.success(\"add success\", {\r\n          autoClose: 2000,\r\n        });\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n  const handleChangeQuantity = (e) => {\r\n    if (typeof e === \"number\" && e <= 0) return;\r\n    if (e === \"\") return setQuantity(\"\");\r\n    if (isNaN(e)) return;\r\n    setQuantity(+e);\r\n  };\r\n  if (!product)\r\n    return (\r\n      <p style={{ fontSize: \"2rem\", textAlign: \"center\" }}>Product not found</p>\r\n    );\r\n  return (\r\n    <>\r\n      <DetailProduct>\r\n        <Image>\r\n          <img src={product.image.url} />\r\n        </Image>\r\n        <Detail>\r\n          <Name>{product.title}</Name>\r\n          <Price>${product.price}</Price>\r\n          <Desc>{product.description}</Desc>\r\n          <Wrapper>\r\n            <WrapperQuantity>\r\n              <button\r\n                type=\"button\"\r\n                onClick={() => handleChangeQuantity(quantity - 1)}\r\n              >\r\n                -\r\n              </button>\r\n              <input\r\n                type=\"text\"\r\n                name=\"quantity\"\r\n                onChange={(e) => handleChangeQuantity(e.target.value)}\r\n                value={quantity}\r\n              />\r\n              <button\r\n                type=\"button\"\r\n                onClick={() => handleChangeQuantity(quantity + 1)}\r\n              >\r\n                +\r\n              </button>\r\n            </WrapperQuantity>\r\n            <Button bgColor=\"primary\" onClick={handleAddProduct}>\r\n              add to cart\r\n            </Button>\r\n          </Wrapper>\r\n        </Detail>\r\n      </DetailProduct>\r\n\r\n      <Swiper\r\n        style={{\r\n          padding: \"0 50px\",\r\n        }}\r\n        slidesPerView={\r\n          windowSize.width > 375 ? (windowSize.width > 960 ? 4 : 2) : 1\r\n        }\r\n        navigation={true}\r\n        spaceBetween={20}\r\n      >\r\n        {data.map((i) => {\r\n          if (i.category === product.category) {\r\n            return (\r\n              <SwiperSlide style={{ cursor: \"pointer\" }} key={i._id}>\r\n                <Item>\r\n                  <img\r\n                    onClick={() => handleDetailProduct(i._id)}\r\n                    src={i.image.url}\r\n                    alt={i.title}\r\n                    loading=\"lazy\"\r\n                  />\r\n                  <div>\r\n                    <p>{i.title}</p>\r\n                    <span>${i.price.format()}</span>\r\n                  </div>\r\n                </Item>\r\n              </SwiperSlide>\r\n            );\r\n          }\r\n          return \"\";\r\n        })}\r\n      </Swiper>\r\n    </>\r\n  );\r\n}\r\n","export const addProduct = (product) => {\r\n    return {\r\n        type: \"ADD_PRODUCT\",\r\n        payload: product\r\n    }\r\n}\r\nexport const removeProduct = (index) => {\r\n    return {\r\n        type: \"REMOVE_PRODUCT\",\r\n        payload: index\r\n    }\r\n}\r\nexport const updateProduct = (product, index) => {\r\n    return {\r\n        type: \"UPDATE_PRODUCT\",\r\n        payload: { product, index }\r\n    }\r\n}\r\nexport const fetchProductList = () => {\r\n    return {\r\n        type: \"FETCH_PRODUCT_LIST\",\r\n\r\n    }\r\n}\r\nexport const fetchProductListSuccess = (products) => {\r\n    return {\r\n        type: \"FETCH_PRODUCT_LIST_SUCCESS\",\r\n        payload: products\r\n    }\r\n}\r\nexport const fetchProductListFail = (err) => {\r\n    return {\r\n        type: \"FETCH_PRODUCT_LIST_FAIL\",\r\n        err\r\n    }\r\n}","import styled from \"styled-components\";\r\n\r\nexport const Item = styled.div`\r\n    min-width:240px;\r\n    position:relative;\r\n    margin-right:20px;\r\n    margin-top:40px;\r\n    width: calc(100% / 4 - 20px);\r\n    border:1px solid #ced4da;\r\n    padding:10px;\r\n    display:flex;\r\n    flex-direction:column;\r\n    justify-content:space-between;\r\n   \r\n    border-radius:8px;\r\n    :hover{\r\n        transform:translateY(-8px);\r\n        transition:all 0.3s ease-out ;\r\n        box-shadow:0 3px 6px rgba(0,0,0,0.12);\r\n        \r\n    }\r\n    > *{\r\n        margin-top:5px;\r\n    }\r\n\r\n`\r\nexport const Image = styled.img`\r\n    display:block;\r\n    object-fit:cover;\r\n    overflow: hidden;\r\n    width:100%;\r\n    height:250px;\r\n    cursor: pointer;\r\n    \r\n`\r\nexport const NameProduct = styled.p`\r\n    font-size:1.3rem;\r\n    font-weight:bold;\r\n    text-transform: capitalize;\r\n\r\n`\r\n\r\n\r\nexport const Price = styled.span`\r\n    font-size:1.5rem;\r\n    color:red;\r\n   \r\n`\r\nexport const BtnDel = styled.span`\r\n    position:absolute;\r\n    cursor: pointer;\r\n    top:-6px;\r\n    left:0px;\r\n    border:1px solid #000;\r\n    padding:0 2px;\r\n    background-color:red;\r\n    color:#fff;\r\n    display:${props => props.hide};\r\n    :active{\r\n        background-color:#dc3545;\r\n    };\r\n`\r\nexport const Modal = styled.div`\r\n    z-index:3;\r\n    position: absolute;\r\n    top:0;\r\n    left:0;\r\n    width:100%;\r\n    height:100%;\r\n    background-color:#fff;\r\n    display:sticky; \r\n`","import cartApi from 'api/cartApi'\r\nimport productApi from 'api/productApi'\r\nimport Toast from 'component/shared/Toast/Toast'\r\nimport { Button } from 'globalCss'\r\nimport React, { useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { addProductToCart } from 'redux/action/cart'\r\nimport { removeProduct } from 'redux/action/product'\r\nimport { BtnDel, Image, Item, NameProduct, Price } from './productItem.element'\r\nfunction ProductItem({ product, isAdmin, index }) {\r\n\r\n    const isLogged = useSelector(state => state.auth.isLogged)\r\n    const history = useHistory()\r\n    const dispatch = useDispatch()\r\n    const [sending, setSending] = useState(false)\r\n\r\n    const { _id, title, price, image, description } = product\r\n    const handleDetailProduct = () => {\r\n        if (isAdmin) return\r\n        history.push(`/product/${_id}`)\r\n    }\r\n\r\n    const handleDele = () => {\r\n        setSending(true)\r\n        if (window.confirm(\"Are you sure you want to delete?\")) {\r\n            productApi.delete(_id)\r\n                .then(res => {\r\n                    setSending(false)\r\n                    if (res.status === 500) {\r\n                        return Toast.warn(res.data.msg)\r\n                    }\r\n                    if (res.msg) {\r\n                        Toast.success(res.msg, {\r\n                            autoClose: 3000,\r\n                        })\r\n                        return dispatch(removeProduct(index))\r\n                    }\r\n                    return Toast.error()\r\n                }\r\n                )\r\n                .catch(err => console.log(err))\r\n        }\r\n    }\r\n    const handleAddProduct = () => {\r\n        if (!isLogged) return alert(\"please login to add\")\r\n        setSending(true)\r\n        cartApi.addToCart(product)\r\n            .then(res => {\r\n                setSending(false)\r\n                if (res.status === 500) {\r\n                    return Toast.warn(res.data.msg)\r\n                }\r\n\r\n                dispatch(addProductToCart({ product, quantity: 1 }))\r\n                Toast.success(\"add success\", {\r\n                    autoClose: 2000\r\n                })\r\n            })\r\n            .catch(err => console.log(err))\r\n    }\r\n    return (\r\n        <>\r\n            <Item>\r\n                <BtnDel onClick={handleDele} hide={isAdmin ? \"block\" : \"none\"} >X</BtnDel>\r\n                <Image src={image.url} onClick={handleDetailProduct} />\r\n                <NameProduct>\r\n                    {title}\r\n                </NameProduct>\r\n\r\n                <Price>\r\n                    ${(+price).format()}\r\n                </Price>\r\n                {isAdmin ?\r\n                    <Button\r\n                        bgColor=\"primary\"\r\n                        fontBig\r\n                        onClick={() => history.push(`/update_product/${_id}`)}\r\n                        type=\"button\">\r\n                        {sending ? \"Loading...\" : \"Update\"}\r\n                    </Button> :\r\n                    <Button\r\n                        bgColor=\"primary\"\r\n                        fontBig\r\n                        type=\"button\"\r\n                        onClick={handleAddProduct} >\r\n                        {sending ? \"Loading...\" : \"Add To Cart\"}\r\n                    </Button>}\r\n            </Item>\r\n\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ProductItem\r\n","import styled from \"styled-components\";\r\nimport { Container } from \"../../../globalCss\";\r\n\r\nexport const ListProduct = styled(Container)`\r\ndisplay:flex;\r\njustify-content:space-around;\r\nflex-wrap:wrap;\r\npadding-top:50px;\r\nposition:relative;\r\n\r\n`\r\n","import productApi from 'api/productApi'\r\nimport Toast from 'component/shared/Toast/Toast'\r\nimport { Button } from 'globalCss'\r\nimport React, { ReactDOM } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { useLocation } from 'react-router-dom'\r\nimport { fetchProductList } from 'redux/action/product'\r\nimport ProductItem from '../ProductItem/productItem'\r\nimport { ListProduct } from './productList.element'\r\nimport ContentLoader from 'react-content-loader'\r\nconst ProductList = () => {\r\n    const useQuery = () => {\r\n        return new URLSearchParams(useLocation().search)\r\n    }\r\n    let query = useQuery()\r\n    const search = query.get(\"search\")\r\n    let { data, loading, err } = useSelector(state => state.product)\r\n    const isAdmin = useSelector(state => state.auth.isAdmin)\r\n    const dispatch = useDispatch()\r\n\r\n\r\n    if (search) {\r\n        data = data.filter(i => {\r\n            return i.title.toLowerCase().indexOf(search.toLowerCase()) !== -1\r\n        })\r\n    }\r\n    const handleDeleteAll = () => {\r\n        if (window.confirm(\"delete all ?\")) {\r\n            productApi.deleteAll()\r\n                .then(res => {\r\n                    if (res.status === 500) return Toast.warn(res.data.msg)\r\n                    dispatch(fetchProductList([]))\r\n                })\r\n                .catch(err => console.log(err))\r\n        }\r\n    }\r\n\r\n    const fakeArr = [1, 2, 3, 4, 5, 6, 7, 8]\r\n\r\n    return (\r\n        <>\r\n            {isAdmin ? <Button\r\n                style={{\r\n                    marginTop: \"10px\",\r\n                    float: \"right\"\r\n\r\n                }}\r\n                bgColor=\"cancel\"\r\n                fontBig\r\n                onClick={handleDeleteAll}\r\n            >\r\n                Delete All\r\n            </Button> : \"\"}\r\n            <ListProduct>\r\n\r\n                {loading ? fakeArr.map((i, index) => <ContentLoader\r\n                    key={index}\r\n                    width={300}\r\n                    height={300}\r\n                >\r\n                    <rect x=\"0\" y=\"0\" rx=\"5\" ry=\"5\" width=\"200\" height=\"200\" />\r\n                    <rect x=\"0\" y=\"210\" rx=\"5\" ry=\"5\" width=\"70\" height=\"10\" />\r\n                    <rect x=\"0\" y=\"230\" rx=\"4\" ry=\"4\" width=\"190\" height=\"30\" />\r\n                    <rect x=\"0\" y=\"280\" rx=\"3\" ry=\"3\" width=\"70\" height=\"10\" />\r\n                </ContentLoader>) : err ? <p>{err}</p>\r\n                    : data.map((product, index) => {\r\n                        return <ProductItem\r\n                            isAdmin={isAdmin}\r\n                            index={index}\r\n                            key={product._id}\r\n                            product={product}\r\n                        />\r\n                    })}\r\n\r\n            </ListProduct>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ProductList\r\n","\r\n\r\nimport { Container } from \"globalCss\"\r\nimport styled from \"styled-components\"\r\n\r\n\r\n\r\nexport const Container2 = styled(Container)`\r\n   \r\n    display:flex;\r\n    align-items:center;\r\n    flex-direction:column;\r\n    \r\n    \r\n    \r\n`\r\nexport const Title = styled.h2`\r\n    font-size:200%;\r\n    font-weight:bold;\r\n    margin:20px 0;\r\n`\r\nexport const Form = styled.form`\r\nwidth:50%;\r\npadding:20px 10px;\r\nborder:1px solid #ced4da;\r\n@media screen and (max-width:960px){\r\n        width:100%;\r\n    }\r\n\r\n`\r\nexport const Label = styled.label`\r\nmargin-bottom:20px;\r\nfont-size:1.2rem;\r\n`\r\nexport const Input = styled.input`\r\ntext-align:start;\r\nmargin-bottom:10px;\r\n\r\n`\r\nexport const Select = styled.select`\r\n   \r\n    margin-bottom:10px;\r\n    margin-left:20px;\r\n    padding:5px 0;\r\n    border:1px solid #000;\r\n`\r\n\r\n\r\nexport const Option = styled.option`\r\n   font-size:1.2rem;\r\n`\r\nexport const BtnGroup = styled.div`\r\n    display :flex;\r\n`\r\nexport const BtnCancel = styled.button`\r\n   background-color:red;\r\n   color:#fff;\r\n   margin-left:30px;\r\n`\r\n","\r\nimport productApi from 'api/productApi'\r\nimport Toast from 'component/shared/Toast/Toast'\r\nimport { Button } from 'globalCss'\r\nimport React, { useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { addProduct, updateProduct } from 'redux/action/product'\r\nimport {\r\n    Container2, Form,\r\n    Input, Label,\r\n    Option, Select, Title\r\n} from './CreateProduct.element'\r\n\r\nconst CreateProduct = ({ product, toggleModal, index }) => {\r\n\r\n    const category = useSelector(state => state.category)\r\n    const initialState = product || {\r\n        title: \"\",\r\n        description: \"\",\r\n        category: category[0]?._id || \"\",\r\n        price: \"\",\r\n        file: \"\"\r\n    }\r\n    const dispatch = useDispatch()\r\n    const [data, setData] = useState(initialState)\r\n    const [sending, setSending] = useState(false)\r\n\r\n    const handleOnchange = e => {\r\n        const { name, value } = e.target\r\n        if (name === \"file\") {\r\n            setData({\r\n                ...data,\r\n                file: e.target.files[0]\r\n            })\r\n        }\r\n        else {\r\n            setData({\r\n                ...data,\r\n                [name]: value\r\n            })\r\n        }\r\n    }\r\n\r\n    const handleSubmit = e => {\r\n        setSending(true)\r\n        e.preventDefault()\r\n        let formData = new FormData()\r\n        formData.append(\"title\", data.title)\r\n        formData.append(\"description\", data.description)\r\n        formData.append(\"price\", data.price)\r\n        formData.append(\"category\", data.category)\r\n\r\n        if (product) {\r\n            if (data.file) formData.append(\"file\", data.file)\r\n            productApi.update(data._id, formData)\r\n                .then(res => {\r\n                    setSending(false)\r\n                    if (res.status === 500) {\r\n                        return Toast.warn(res.data.msg)\r\n                    }\r\n                    if (res?.msg) {\r\n                        let newData = data\r\n                        if (res?.newImage) {\r\n                            newData = {\r\n                                ...data,\r\n                                image: res.newImage\r\n                            }\r\n                        }\r\n                        Toast.success(res.msg)\r\n                        dispatch(updateProduct(newData, index))\r\n                    }\r\n                    else {\r\n                        return Toast.error()\r\n                    }\r\n                })\r\n                .catch(err => console.log(err))\r\n        }\r\n        else {\r\n            formData.append(\"file\", data.file)\r\n            productApi.create(formData)\r\n                .then(res => {\r\n                    setSending(false)\r\n                    if (res.status === 500) {\r\n                        return Toast.warn(res.data.msg)\r\n                    }\r\n                    if (res?.msg) {\r\n                        Toast.success(res.msg)\r\n                        dispatch(addProduct(res.product))\r\n                    }\r\n                    else {\r\n                        return Toast.error()\r\n                    }\r\n                })\r\n                .catch(err => console.log(err))\r\n        }\r\n    }\r\n    return (\r\n\r\n        <Container2>\r\n            <Title>{product ? \"Update Product\" : \"Create Product\"}</Title>\r\n            <Form onSubmit={handleSubmit}>\r\n                <Label>Title</Label>\r\n                <Input required name=\"title\" value={data.title} type=\"text\" onChange={handleOnchange} />\r\n                <Label>Description</Label>\r\n                <Input required name=\"description\" value={data.description} type=\"text\" onChange={handleOnchange} />\r\n\r\n                <Label>Price</Label>\r\n                <Input required name=\"price\" value={data.price} type=\"number\" onChange={handleOnchange} />\r\n\r\n                <Label>Image</Label>\r\n                <Input\r\n                    required={product ? false : true}\r\n                    name=\"file\"\r\n                    type=\"file\"\r\n                    onChange={handleOnchange} />\r\n                <Label>Category</Label>\r\n                <Select name=\"category\" value={data.category} onChange={handleOnchange} >\r\n                    {category.map(i =>\r\n                        <Option key={i._id} value={i._id} >{i.name}</Option>\r\n                    )}\r\n                </Select>\r\n                {\r\n                    product\r\n                        ?\r\n                        <Button\r\n                            bgColor=\"primary\"\r\n                            fontBig\r\n                            block\r\n                            type=\"submit\"\r\n                            disabled={sending}>\r\n                            {sending ? \"loading\" : \"Update\"}\r\n                        </Button>\r\n                        :\r\n                        <Button\r\n                            bgColor=\"primary\"\r\n                            fontBig\r\n                            block\r\n                            type=\"submit\"\r\n                            disabled={sending} >\r\n                            {sending ? \"loading\" : \"Submit\"}\r\n                        </Button>\r\n                }\r\n            </Form>\r\n        </Container2>\r\n    )\r\n}\r\n\r\nexport default CreateProduct\r\n","import { Container } from \"globalCss\";\r\nimport styled from \"styled-components\";\r\n\r\nexport const ContainerOver = styled(Container)`\r\n    display:flex;\r\n    padding-top:50px;\r\n  justify-content:center;\r\n\r\n`\r\nexport const StyledWrapper = styled.div`\r\n    width:50%;\r\n    padding:10px 20px;\r\n    @media screen and (max-width:960px){\r\n        width:100%;\r\n    }\r\n`\r\nexport const ListCategory = styled.ul`\r\n    list-style:none;\r\n    width:100%;\r\n    @media screen and (max-width:960px){\r\n        width:100%;\r\n        display:flex;\r\n        flex-direction:column;\r\n        align-items:center;\r\n        justify-content:space-around;\r\n    }\r\n`\r\nexport const CategoryName = styled.p`\r\n    flex:1;\r\n  font-size:1.5rem;\r\n    width:40%;\r\n    border:1px solid #000;\r\n    margin-right:15px;\r\n    padding:0 20px;\r\n    \r\n\r\n`\r\nexport const CategoryItem = styled.li`\r\n    display:flex;\r\n    margin-bottom:20px;\r\n    @media screen and (max-width:960px){\r\n        width:100%;\r\n        justify-content:space-around;\r\n    }\r\n    \r\n`\r\nexport const FormCreate = styled.div`\r\n    display:flex;\r\n    flex-direction:row; \r\n    margin-bottom:20px;\r\n    @media screen and (max-width:960px){\r\n        width:100%;\r\n        justify-content:space-around;\r\n    }\r\n\r\n\r\n`\r\nexport const Input = styled.input`\r\n    text-align:start;\r\n`\r\nexport const Button = styled.button`\r\n    :disabled{\r\n        background-color:#ced4da;\r\n    };\r\n    width:20%;\r\n    font-size:1rem;\r\n    margin-left:10px;\r\n    background-color:${props => props.bgColor || \"#007bff\"};\r\n    :active{\r\n        background-color:${props => props.bgColor ? \"#b02a37\" : \"#0062cc\"}\r\n    };\r\n\r\n`","import categoryApi from 'api/categoryApi';\r\nimport Toast from 'component/shared/Toast/Toast';\r\nimport { Button } from 'globalCss';\r\nimport React, { useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport { addCategory, removeCategory, updateCategory } from 'redux/action/category';\r\nimport { StyledWrapper, CategoryItem, CategoryName, ContainerOver, FormCreate, Input, ListCategory } from './Category.element';\r\n\r\nconst Category = () => {\r\n    const category = useSelector(state => state.category)\r\n    const dispatch = useDispatch()\r\n    const [sending, setSending] = useState(false)\r\n    const [cate, setCate] = useState({\r\n        name: \"\",\r\n        _id: \"\"\r\n    })\r\n    const [isCreate, setIsCreate] = useState(true)\r\n    const findIndex = (arr, id) => {\r\n        let index = -1\r\n        arr.map((i, indx) => {\r\n\r\n            if (i._id === id) {\r\n\r\n                return index = indx\r\n            }\r\n\r\n        })\r\n        return index;\r\n    }\r\n    const handleDelete = (id) => {\r\n        setSending(true)\r\n        if (window.confirm(\"Are you sure you want to delete?\")) {\r\n            categoryApi.delete(id)\r\n                .then(res => {\r\n                    setSending(false)\r\n                    if (res.status === 500) {\r\n                        return Toast.warn(res.data.msg)\r\n                    }\r\n                    if (res?.msg) {\r\n                        Toast.success(res.msg)\r\n                        dispatch(removeCategory(findIndex(category, id)))\r\n                    } else {\r\n                        Toast.error()\r\n                    }\r\n\r\n\r\n                })\r\n                .catch(err => console.log(err))\r\n        }\r\n    }\r\n\r\n    const handleCreate = () => {\r\n        if (cate.name === \"\") return\r\n        setSending(true)\r\n        categoryApi.create({ name: cate.name })\r\n            .then(res => {\r\n                setSending(false)\r\n                if (res.status === 500) {\r\n                    if (res?.data?.msg) {\r\n                        return Toast.warn(res.data.msg)\r\n                    }\r\n                    console.log(res)\r\n                    return Toast.error()\r\n                }\r\n\r\n                else if (res?.msg) {\r\n                    Toast.success(res.msg)\r\n                    dispatch(addCategory(res.category))\r\n\r\n                }\r\n            })\r\n            .catch(err => console.log(err))\r\n    }\r\n    const handleUpdate = () => {\r\n        if (cate.name === \"\") return\r\n        setSending(true)\r\n        const index = findIndex(category, cate._id)\r\n\r\n        categoryApi.update(cate._id, cate.name)\r\n            .then(res => {\r\n                setSending(false)\r\n                if (res?.msg) {\r\n                    Toast.success(res.msg)\r\n                    dispatch(updateCategory(cate.name, index))\r\n                } else {\r\n                    Toast.error()\r\n                }\r\n\r\n            })\r\n            .catch(err => console.log(err))\r\n\r\n    }\r\n\r\n    return (\r\n\r\n        <ContainerOver>\r\n            <StyledWrapper>\r\n                <FormCreate >\r\n                    <Input\r\n\r\n                        onChange={(e) => {\r\n\r\n                            setCate({\r\n                                ...cate,\r\n                                name: e.target.value\r\n\r\n                            })\r\n                        }} name=\"name\"\r\n                        value={cate.name}\r\n                        type=\"text\"\r\n                        required />\r\n                    {isCreate ?\r\n                        <Button\r\n                            disabled={sending}\r\n                            type=\"button\"\r\n                            bgColor=\"primary\"\r\n\r\n                            onClick={handleCreate}\r\n                        > Create </Button> :\r\n                        (<>\r\n                            <Button\r\n                                disabled={sending}\r\n                                type=\"button\"\r\n                                bgColor=\"#198754\"\r\n                                onClick={handleUpdate}\r\n                            > update\r\n                            </Button>\r\n                            <Button\r\n                                disabled={sending}\r\n                                type=\"button\"\r\n                                bgColor=\"cancel\"\r\n                                onClick={() => {\r\n                                    setCate({\r\n                                        name: \"\", _id: \"\"\r\n                                    })\r\n                                    setIsCreate(true)\r\n                                }}\r\n                            > cancel </Button>\r\n                        </>\r\n                        )\r\n                    }\r\n                </FormCreate>\r\n                <ListCategory>\r\n                    {category.map(i => {\r\n                        const dis = i._id === cate._id ? true : false\r\n                        return <CategoryItem key={i._id}>\r\n\r\n                            <CategoryName>{i.name}</CategoryName>\r\n                            <Button bgColor=\"cancel\" disabled={dis ? dis : sending} onClick={() => handleDelete(i._id)} >\r\n                                delete\r\n                                </Button>\r\n                            <Button\r\n                                disabled={sending}\r\n                                bgColor=\"#198754\"\r\n                                onClick={() => {\r\n\r\n                                    setCate({\r\n                                        name: i.name,\r\n                                        _id: i._id\r\n\r\n                                    })\r\n                                    setIsCreate(false)\r\n\r\n                                }} >update</Button>\r\n                        </CategoryItem>\r\n                    }\r\n                    )}\r\n                </ListCategory>\r\n\r\n            </StyledWrapper>\r\n        </ContainerOver>\r\n    )\r\n}\r\n\r\nexport default Category\r\n","export const addCategory = (category) => {\r\n    return {\r\n        type: \"CREATE_CATEGORY\",\r\n        payload: category\r\n    }\r\n}\r\nexport const removeCategory = (index) => {\r\n    return {\r\n        type: \"REMOVE_CATEGORY\",\r\n        payload: index\r\n    }\r\n}\r\nexport const updateCategory = (category, index) => {\r\n    return {\r\n        type: \"UPDATE_CATEGORY\",\r\n        payload: { category, index }\r\n    }\r\n}\r\nexport const fetchCategory = (categorys) => {\r\n    return {\r\n        type: \"FETCH_CATEGORY\",\r\n        payload: categorys\r\n    }\r\n}","import styled from \"styled-components\";\r\n\r\nexport const CartItems = styled.div`\r\n  display:flex;\r\n  justify-content:space-between;\r\n  align-items:stretch;\r\n  padding:10px 10px;\r\n  border:1px solid #000000;\r\n  border-radius:5px;\r\n  box-shadow:0 3px 6px rgba(0,0,0,0.12);\r\n  margin-bottom:20px;\r\n`;\r\nexport const Image = styled.div`\r\n  display:flex;\r\n  flex-direction:column;\r\n  align-items:center;\r\n  img{\r\n    width:100px;\r\n    height:120px;\r\n    object-fit:cover;\r\n    overflow:hidden;\r\n\r\n  }\r\n`;\r\n\r\nexport const Price = styled.div`\r\n   display:flex;\r\n  flex-direction:column;\r\n  align-items:center;\r\n  justify-content:space-between;\r\n`;\r\nexport const NumberItem = styled.div`\r\n  display:flex;\r\n  border:1px solid #000;\r\n  width:fit-content;\r\n  margin:auto;\r\n border-radius:4px;\r\n`;\r\nexport const IncreaseBtn = styled.button`\r\n  border:0 ;\r\n  border-radius:0;\r\n  font-size: 1.3rem;\r\n  font-weight: bold;\r\n  cursor: pointer;\r\n  padding: 0 15px;\r\n  background-color: #ffffff;\r\n  :hover{\r\n    background-color:#333333;\r\n    color:#ffffff;\r\n  }\r\n  transition: all 300ms ease-in-out;\r\n  \r\n`;\r\nexport const Count = styled.p`\r\n  padding: 0 10px;\r\n  font-size: 1.5rem;\r\n  border-right:1px solid #000000;\r\n  border-left:1px solid #000000;\r\n  \r\n`;\r\nexport const DecreaseBtn = styled(IncreaseBtn)``;\r\nexport const BtnDelete = styled.button`\r\n  width: 60px;\r\n  font-size: 1rem;\r\n  background-color: #dc3545;\r\n  color:#fff;\r\n  \r\n  :active {\r\n    background-color: #b02a37;\r\n  }\r\n`;\r\n","import cartApi from \"api/cartApi\";\r\nimport { Button } from \"globalCss\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { decreaseCart, deleteCart, increaseCart } from \"redux/action/cart\";\r\nimport {\r\n    BtnDelete,\r\n    CartItems,\r\n    Count,\r\n    DecreaseBtn,\r\n    Image,\r\n    IncreaseBtn,\r\n    NumberItem,\r\n    Price,\r\n    Title,\r\n} from \"./CartItem.element\";\r\nconst CartItem = ({ card, index }) => {\r\n    const dispatch = useDispatch();\r\n    const { product, quantity } = card;\r\n\r\n    const [loading, setLoading] = useState(false);\r\n    const dis = quantity === 1 ? true : false;\r\n    const handleChangeQuality = (t) => {\r\n        setLoading(true);\r\n        cartApi\r\n            .changeQuality(t, product._id)\r\n            .then((res) => {\r\n                if (t === \"increase\") {\r\n                    dispatch(increaseCart(index));\r\n                } else {\r\n                    dispatch(decreaseCart(index));\r\n                }\r\n                setLoading(false);\r\n            })\r\n            .catch((err) => setLoading(false));\r\n    };\r\n    const handleDelete = () => {\r\n        setLoading(true);\r\n        cartApi\r\n            .deleteCart(product._id)\r\n            .then((res) => {\r\n\r\n                dispatch(deleteCart(index));\r\n                setLoading(false);\r\n            })\r\n            .catch((err) => setLoading(false));\r\n    };\r\n    return (\r\n        <CartItems>\r\n            <Image>\r\n                <img src={product.image.url} />\r\n                <p>{product.title}</p>\r\n            </Image>\r\n            <Price>\r\n                <p>${product.price.format()}</p>\r\n                <NumberItem>\r\n                    <IncreaseBtn\r\n                        type=\"button\"\r\n                        disabled={dis || loading}\r\n                        onClick={() => handleChangeQuality(\"decrease\")}\r\n                    >\r\n                        -\r\n                    </IncreaseBtn>\r\n                    <Count>{quantity}</Count>\r\n                    <DecreaseBtn\r\n                        type=\"button\"\r\n                        disabled={loading}\r\n                        onClick={() => handleChangeQuality(\"increase\")}\r\n                    >\r\n                        +\r\n                    </DecreaseBtn>\r\n                </NumberItem>\r\n            </Price>\r\n            <div style={{\r\n                display: \"flex\",\r\n                alignItems: \"center\"\r\n            }}>\r\n                <Button disabled={loading} bgColor=\"cancel\" onClick={handleDelete}>\r\n                    Delete\r\n                </Button>\r\n            </div>\r\n        </CartItems>\r\n    );\r\n};\r\n\r\nexport default CartItem;\r\n","import { Container } from \"globalCss\";\r\nimport styled, { keyframes } from \"styled-components\";\r\n\r\nconst Fade2 = keyframes`\r\n    from{\r\n        transform:translateX(100%)\r\n    }\r\n    to{\r\n        transform:translateX(0%)\r\n    }\r\n`\r\nexport const ListCart = styled.div`\r\n    position:absolute;\r\n    top:0;\r\n    right:0;\r\n    background:#ffffff;\r\n    padding-top:100px; \r\n     height:100vh;\r\n     overflow-y:auto;\r\n     width:450px;\r\n     box-shadow: -2px 0 8px rgb(0 0 0 / 15%);\r\n     display:flex;\r\n     flex-direction:column;\r\n     justify-content:space-between;\r\n    @media screen and (max-width:960px){\r\n        width:100%;\r\n       \r\n        height:100%;\r\n    }\r\n    animation : ${Fade2} 700ms  ease-in-out;\r\n`\r\n\r\nexport const Table = styled.div`\r\n   padding:10px;\r\n`\r\nexport const Total = styled.p`\r\n    color:red;\r\n    font-weight:800;\r\n    font-size:1.5rem;\r\n`\r\nexport const CheckOutContainer = styled.button`\r\n   \r\n    background-color:#333333;\r\n    color:#ffffff;\r\n    padding:20px 20px;\r\n    transition:opacity 0.7s ;\r\n    margin-top:auto;\r\n    cursor: pointer;\r\n    width:100%;\r\n    \r\n    display:flex;\r\n    justify-content:space-between;\r\n    margin-bottom:30px;\r\n    \r\n    p{\r\n        flex:1;\r\n        margin-right:10px;\r\n        border-right:0.5px solid #ffffff;\r\n        font-size:1.5rem;\r\n        font-weight:bold;\r\n        line-height:1.5rem;\r\n    }\r\n    :hover{\r\n        opacity:0.7;\r\n    }\r\n`\r\n","import CartItem from 'component/CartItem/CartItem'\r\nimport React from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { changeShow } from 'redux/action/modal'\r\nimport { CheckOutContainer, ListCart, Table } from './Cart.element'\r\nconst Cart = () => {\r\n    const history = useHistory()\r\n    const dispatch = useDispatch()\r\n    const card = useSelector(state => state.cart)\r\n\r\n\r\n    let total = 0;\r\n    for (const i of card) {\r\n        total += i.product.price * i.quantity\r\n    }\r\n    if (!card || card?.length === 0) return <p style={{ fontSize: \"2rem\", textAlign: \"center\", color: \"#ffffff\" }}>\r\n        There are no items in this cart</p>\r\n    return (\r\n        <ListCart >\r\n            <Table>\r\n                {card.map((i, index) => {\r\n                    return <CartItem key={i.product._id} index={index} card={i} />\r\n\r\n                })}\r\n            </Table>\r\n            <CheckOutContainer onClick={() => {\r\n                dispatch(changeShow(false))\r\n                history.push(\"/checkout\")\r\n            }} type=\"button\" >\r\n                <p  >check out </p>  <span>${total.format()}</span>\r\n            </CheckOutContainer>\r\n        </ListCart>\r\n    )\r\n}\r\n\r\nexport default Cart\r\n","import axiosClient from 'api/axiosClient'\r\n\r\nconst orderApi = {\r\n    fetchOrder: () => {\r\n        const url = '/api/order'\r\n        return axiosClient.get(url)\r\n    },\r\n    createOrder: (data) => {\r\n        const url = '/api/order'\r\n        return axiosClient.post(url, data)\r\n    },\r\n    cancelOrder: (id) => {\r\n        const url = `/api/order/${id}`\r\n        return axiosClient.delete(url)\r\n    },\r\n    getOrder: (id) => {\r\n        const url = `/api/order/${id}`\r\n        return axiosClient.get(url)\r\n    }\r\n\r\n}\r\nexport default orderApi","import { Container } from \"globalCss\";\r\nimport styled from \"styled-components\";\r\n\r\nexport const CheckOutContainer = styled(Container)`\r\n    padding:50px 0;\r\n    h2{\r\n        font-size:2rem;\r\n        color:green;\r\n        margin-bottom:1rem;\r\n    }\r\n\r\n`\r\nexport const Form = styled.form`\r\n    display:flex;\r\n    flex-direction:column;\r\n    position:absolute;\r\n    width:50%;\r\n    transform:translate(50%,20%);\r\n   \r\n    select{\r\n        width:50%;\r\n        padding:5px;\r\n    }\r\n    border:1px solid #000000;\r\n    padding :20px 20px;\r\n    >*{\r\n       \r\n        margin-bottom:20px;\r\n    }\r\n    >*~input{\r\n        text-align:start;\r\n        \r\n\r\n    }\r\n    @media screen and (max-width:960px){\r\n        width:100%;\r\n        transform:none;\r\n    }\r\n`\r\nexport const Head = styled.div`\r\n    display:flex;\r\n    justify-content:space-between;\r\n    \r\n    align-items:center;\r\n`\r\nexport const CheckOutBtn = styled.button`\r\n    width:fit-content;\r\n    font-weight:400;\r\n    margin-top:20px;\r\n    margin-right:100px;\r\n    float:right;\r\n`\r\nexport const AddressInfor = styled.div`\r\n    display:flex;\r\n    justify-content:flex-start;\r\n    align-items:center;\r\n`\r\n\r\nexport const Name = styled.p`\r\n    font-weight:600;\r\n    margin-right:20px;\r\n`\r\nexport const BtnAdd = styled.button`\r\n    margin-left:20px;\r\n    width:20%;\r\n    padding:0;\r\n`\r\nexport const ListItem = styled.table`\r\n    width:100%;\r\n    th{\r\n        text-align:start;\r\n    }\r\n`\r\nexport const Total = styled.p`\r\n    font-size:1.7rem;\r\n    font-weight:500;\r\n    padding-right:50px;\r\n`\r\n\r\n","import cartApi from 'api/cartApi'\r\nimport orderApi from 'api/orderApi'\r\nimport data from 'assets/data.json'\r\nimport { Modal } from 'component/product/ProductItem/productItem.element'\r\nimport Toast from 'component/shared/Toast/Toast'\r\nimport { Button } from 'globalCss'\r\nimport React, { useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { getCart } from 'redux/action/cart'\r\nimport { addOrder } from 'redux/action/order'\r\nimport { AddressInfor, BtnAdd, CheckOutBtn, CheckOutContainer, Form, Head, ListItem, Name, Total } from './CheckOut.element'\r\n\r\n\r\nconst CheckOut = () => {\r\n    const card = useSelector(state => state.cart)\r\n    const history = useHistory()\r\n    const [toggle, setToggle] = useState(false)\r\n    const [err, setErr] = useState(\"\")\r\n    const dispatch = useDispatch()\r\n    const [address, setAddress] = useState({\r\n        name: \"\",\r\n        number: \"\",\r\n        province: \"\",\r\n        districts: \"\",\r\n        wards: \"\"\r\n\r\n    })\r\n    let districts = data[address.province]?.Districts || []\r\n\r\n    let wart = districts[address.districts]?.Wards || []\r\n\r\n    let total = 0;\r\n    for (const i of card) {\r\n        total += i.product.price * i.quantity\r\n    }\r\n    const verify = (arr) => {\r\n\r\n        for (const i in arr) {\r\n            if (arr[i] === \"\") {\r\n                setErr(\"Please fill all input\")\r\n                return false\r\n            }\r\n        }\r\n        if (isNaN(arr.number) || arr.number.length !== 10) {\r\n            setErr(\"Phone number must have 10 digits\")\r\n            return false\r\n        }\r\n\r\n\r\n        return true\r\n\r\n    }\r\n    const handleOnChange = e => {\r\n        const { name, value } = e.target\r\n        setErr(\"\")\r\n        setAddress({\r\n            ...address,\r\n            [name]: value\r\n        })\r\n    }\r\n    const handleCheckout = () => {\r\n        if (!verify(address)) return alert(\"please add address\")\r\n        const newAddress = `${data[+address.province].Name},\r\n        ${data[+address.province].Districts[+address.districts].Name},\r\n        ${data[+address.province].Districts[+address.districts].Wards[+address.wards].Name}`\r\n        orderApi.createOrder({\r\n            name: address.name,\r\n            phone: address.number,\r\n            address: newAddress,\r\n            total,\r\n            card\r\n        })\r\n            .then(res => {\r\n                if (res?.status === 500) return Toast.warn(res.data.msg)\r\n                dispatch(addOrder({\r\n                    name: address.name,\r\n                    phone: address.number,\r\n                    address: newAddress,\r\n                    total,\r\n                    card\r\n                }))\r\n                cartApi.remove()\r\n                    .then(res => {\r\n                        if (res?.msg === \"remove success\") {\r\n                            dispatch(getCart([]))\r\n                            history.push('/cart')\r\n                        }\r\n                    })\r\n                    .catch(err => console.log(err))\r\n\r\n            })\r\n            .catch(err => console.log(err))\r\n    }\r\n\r\n    return (\r\n        <CheckOutContainer>\r\n            <h2>Address</h2>\r\n            <AddressInfor>\r\n\r\n                {address.province && address.districts && address.wards ?\r\n                    <>\r\n                        <Name>{address.name} ({address.number})</Name>\r\n                        <p>{data[+address.province].Name},\r\n                    {data[+address.province].Districts[+address.districts].Name},\r\n                    {data[+address.province].Districts[+address.districts].Wards[+address.wards].Name}</p>\r\n                    </>\r\n                    :\r\n                    \"\"}\r\n                <Button bgColor=\"primary\" onClick={() => setToggle(true)}>{address.name ? \"Edit\" : \"Add new\"}</Button>\r\n            </AddressInfor>\r\n            <Head >\r\n                <h2>List Product</h2>\r\n                <Total>Total: ${total.format()}</Total>\r\n            </Head>\r\n            <ListItem>\r\n\r\n                <thead>\r\n                    <tr>\r\n                        <th>Name</th>\r\n                        <th>Quantity</th>\r\n                        <th>Price</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {card.map(i => {\r\n                        return (\r\n                            <tr>\r\n                                <td>{i.product.title}</td>\r\n                                <td>{i.quantity}</td>\r\n                                <td>${(i.product.price * i.quantity).format()}</td>\r\n\r\n                            </tr>\r\n                        )\r\n                    })}\r\n\r\n                </tbody>\r\n            </ListItem>\r\n            <Button bgColor=\"primary\" style={{\r\n                float: \"right\"\r\n            }} onClick={handleCheckout}>Check Out</Button>\r\n            {toggle ? <Modal  >\r\n\r\n                <Form>\r\n                    <h2>Address Infor</h2>\r\n                    <input\r\n                        required\r\n                        placeholder=\"Your Name\"\r\n                        type=\"text\"\r\n                        name=\"name\"\r\n                        value={address.name}\r\n                        onChange={handleOnChange}\r\n                    />\r\n                    <input\r\n                        required\r\n                        placeholder=\"Phone Number\"\r\n                        type=\"text\"\r\n                        name=\"number\"\r\n                        value={address.number}\r\n                        onChange={handleOnChange}\r\n\r\n                    />\r\n\r\n                    <select\r\n                        value={address.province}\r\n                        onChange={handleOnChange}\r\n                        name='province'>\r\n                        <option value='' disabled>Select Province</option>\r\n                        {data.map((i, index) => {\r\n                            return <option\r\n                                value={index}\r\n                            >\r\n                                {i.Name}\r\n                            </option>\r\n                        })}\r\n\r\n                    </select>\r\n                    <select\r\n                        onChange={handleOnChange}\r\n                        value={address.districts}\r\n                        name=\"districts\"\r\n                    >\r\n                        <option value='' disabled>Select District</option>\r\n                        {\r\n\r\n                            districts.map((i, index) => {\r\n                                return <option\r\n                                    value={index}\r\n                                >\r\n                                    {i.Name}\r\n                                </option>\r\n                            })}\r\n                    </select>\r\n                    <select\r\n                        value={address.wards}\r\n                        onChange={handleOnChange}\r\n                        name=\"wards\"\r\n                    >\r\n                        <option value='' disabled>Select Ward</option>\r\n                        {wart.map((i, index) => {\r\n                            return <option\r\n                                value={index}\r\n                            >\r\n                                {i.Name}\r\n                            </option>\r\n                        })}\r\n                    </select>\r\n                    {err ? <p style={{ color: \"red\" }} >{err}</p> : \"\"}\r\n                    <Button bgColor=\"primary\" type=\"button\" onClick={(e) => {\r\n\r\n                        if (!verify(address)) return\r\n\r\n                        setToggle(false)\r\n                    }} >submit</Button>\r\n                    <Button bgColor=\"cancel\" type=\"button\" onClick={() => setToggle(false)} >Cancel</Button>\r\n\r\n                </Form>\r\n            </Modal> : \"\"}\r\n\r\n        </CheckOutContainer>\r\n    )\r\n}\r\n\r\nexport default CheckOut\r\n","export const fetchOrder = (orders) => {\r\n    return {\r\n        type: \"FETCH_ORDER\",\r\n        payload: orders\r\n    }\r\n}\r\nexport const cancelOrder = (index) => {\r\n    return {\r\n        type: \"CANCEL_ORDER\",\r\n        payload: index\r\n    }\r\n}\r\nexport const addOrder = (data) => {\r\n    return {\r\n        type: \"ADD_ORDER\",\r\n        payload: data\r\n    }\r\n}","import { Container } from \"globalCss\";\r\nimport styled from \"styled-components\";\r\n\r\nexport const ContainerHistory = styled(Container)`\r\npadding:40px;\r\n\r\n\r\n`\r\nexport const Table = styled.table`\r\n  \r\n    th{\r\n\r\n        background-color:darkblue;\r\n        color:#fff;\r\n        padding:10px 0;\r\n    }\r\n    td{\r\n        text-align:center;\r\n        padding :10px 0;\r\n        border:1px solid #ddd;\r\n      \r\n    }\r\n   \r\n    width:100%; \r\n   \r\n        @media screen and (max-width:960px){\r\n            thead{\r\n                display:none;\r\n            }\r\n            tbody,tr ,td{\r\n                display:block;\r\n                width:100%;\r\n                \r\n            }\r\n            tr{\r\n                margin-bottom:20px; \r\n                \r\n                 \r\n            }\r\n            td{\r\n                text-align:right;\r\n                padding-right:5px;\r\n                padding-left:50%;\r\n                position:relative;\r\n                &::before{\r\n                    content: attr(data);\r\n                    position:absolute;\r\n                    left:0;\r\n                    text-align:left;\r\n                    padding-left:15px;\r\n                    color:#000;\r\n                    font-weight:bold;\r\n                   \r\n                    \r\n                };\r\n                \r\n            }\r\n           \r\n        }\r\n   \r\n    \r\n   \r\n`\r\n\r\nexport const Action = styled.td`\r\n   @media screen and (max-width:960px){\r\n       div{\r\n           width:100%;\r\n           display:flex;\r\n           justify-content:flex-end;\r\n           align-items:center;\r\n           \r\n       }\r\n   }\r\n`\r\nexport const Status = styled.td`\r\n\r\n\r\ncolor:${props => {\r\n        if (props.$status === \"cancelled\") return \"red\"\r\n        else if (props.$status === \"shipped\") return \"green\"\r\n        return \"#0062cc\"\r\n    }}\r\n`\r\n","import orderApi from \"api/orderApi\";\r\nimport Toast from \"component/shared/Toast/Toast\";\r\nimport { Button } from \"globalCss\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Action, ContainerHistory, Status, Table } from \"./Order.element\";\r\n\r\nconst Order = () => {\r\n  const [orders, setOrders] = useState([]);\r\n\r\n  useEffect(() => {\r\n    orderApi\r\n      .fetchOrder()\r\n      .then((res) => {\r\n        if (res?.orders) {\r\n          setOrders(res.orders);\r\n        }\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }, []);\r\n  if (orders.length === 0)\r\n    return (\r\n      <p style={{ fontSize: \"2rem\", textAlign: \"center\" }}>\r\n        There are no orders placed yet.\r\n      </p>\r\n    );\r\n  const handleCancel = (id) => {\r\n    if (window.confirm(\"you sure cancel ?\")) {\r\n      orderApi\r\n        .cancelOrder(id)\r\n        .then((res) => {\r\n          if (res.status === 500) return Toast.warn(res.data.msg);\r\n          const index = orders.findIndex((i) => i._id === id);\r\n\r\n          if (index !== undefined) {\r\n            orders[index].status = \"cancelled\";\r\n            setOrders([...orders]);\r\n          }\r\n        })\r\n        .catch((err) => console.log(err));\r\n    }\r\n  };\r\n  return (\r\n    <ContainerHistory>\r\n      <Table>\r\n        <thead>\r\n          <th>ID</th>\r\n          <th>Date</th>\r\n          <th>Status</th>\r\n          <th>Action</th>\r\n        </thead>\r\n        <tbody>\r\n          {orders.map((i, index) => {\r\n            const date = new Date(i.createdAt);\r\n            const dis = i.status === \"pending\" ? false : true;\r\n            return (\r\n              <tr key={i._id}>\r\n                <td data=\"ID\">{i._id}</td>\r\n                <td data=\"Date\">{date.toLocaleDateString()}</td>\r\n                <Status data=\"Status\" $status={i.status}>\r\n                  {i.status}\r\n                </Status>\r\n                <Action data=\"Action\">\r\n                  <Link to={`/my_order/${i._id}`}>View</Link>\r\n                  <Button\r\n                    bgColor=\"primary\"\r\n                    disabled={dis}\r\n                    onClick={() => handleCancel(i._id, index)}\r\n                  >\r\n                    Cancel\r\n                  </Button>\r\n                </Action>\r\n              </tr>\r\n            );\r\n          })}\r\n        </tbody>\r\n      </Table>\r\n    </ContainerHistory>\r\n  );\r\n};\r\n\r\nexport default Order;\r\n","import { Container } from \"globalCss\";\r\nimport styled from \"styled-components\";\r\n\r\nexport const DetailContainer = styled(Container)`\r\n    background-color:#eff0f5;\r\n    margin-top:50px;\r\n    padding:50px 20px;\r\n    h2{\r\n        font-size:1.2rem;\r\n        font-weight:600;\r\n    }\r\n`\r\nexport const OrderDetail = styled.div`\r\n    display:flex;\r\n    justify-content:space-between;\r\n    align-items:center;\r\n    padding:20px 20px;\r\n    margin:20px 0;\r\n    background-color:#fff;\r\n\r\n`\r\nexport const OrderId = styled.div`\r\n    display:flex;\r\n    flex-direction:column;\r\n    \r\n`\r\nexport const ListProduct = styled.ul`\r\nbackground-color:#fff;\r\nmargin:20px 0;\r\nlist-style:none;\r\npadding:20px;\r\n    \r\n`\r\nexport const Product = styled.li`\r\ndisplay:flex;\r\njustify-content:space-around;\r\nmargin-bottom:20px;\r\nimg{\r\n    width:80px;\r\n    height:100px;\r\n    display:block;\r\n    object-fit:cover;\r\n}\r\n`\r\nexport const Address = styled.div`\r\n    background-color:#fff;\r\n    padding:20px;\r\n`\r\nexport const Status = styled.div`\r\ndisplay:flex;\r\njustify-content:flex-end;\r\nmargin-bottom:10px ;\r\n    p{\r\n        background-color:#ecf0f7;\r\n        padding:5px 10px;\r\n        border-radius:25%;\r\n    }\r\n\r\n`","import orderApi from \"api/orderApi\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { Table } from \"../Order.element\";\r\nimport {\r\n  DetailContainer,\r\n  OrderDetail,\r\n  OrderId,\r\n  ListProduct,\r\n  Address,\r\n  Status,\r\n} from \"./OrderDetail.element\";\r\nconst OrderDe = () => {\r\n  const params = useParams();\r\n  const [order, setOrder] = useState();\r\n  useEffect(() => {\r\n    if (params.id) {\r\n      orderApi\r\n        .getOrder(params.id)\r\n        .then((res) => {\r\n          console.log(res);\r\n          setOrder(res.order);\r\n        })\r\n        .catch((err) => console.log(err));\r\n    } else {\r\n      setOrder({});\r\n    }\r\n  }, [params]);\r\n  if (!order) return <p>Loading</p>;\r\n\r\n  return (\r\n    <DetailContainer>\r\n      <h2>Order Detail</h2>\r\n      <OrderDetail>\r\n        <OrderId>\r\n          <p>Order {order._id}</p>\r\n          <p>Placed on:{new Date(order.createdAt).toLocaleDateString()}</p>\r\n        </OrderId>\r\n        <p>Total: ${order.total}</p>\r\n      </OrderDetail>\r\n      <Address>\r\n        <p>Shipping Address</p>\r\n        <p>{order.address}</p>\r\n      </Address>\r\n\r\n      <ListProduct>\r\n        <Status>\r\n          <p>{order.status}</p>\r\n        </Status>\r\n        <Table>\r\n          <thead>\r\n            <tr>\r\n              <th></th>\r\n              <th>Name </th>\r\n              <th>Quantity</th>\r\n              <th>Price</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody\r\n            style={{\r\n              backgroundColor: \"#fff\",\r\n            }}\r\n          >\r\n            {order.card.map((i) => {\r\n              return (\r\n                <tr key={i._id}>\r\n                  <td>\r\n                    <img\r\n                      style={{\r\n                        width: \"80px\",\r\n                        height: \"100px\",\r\n                        objectFit: \"cover\",\r\n                      }}\r\n                      src={i.product.image.url}\r\n                      alt=\"img\"\r\n                    />\r\n                  </td>\r\n                  <td data=\"Name\"> {i.product.title}</td>\r\n                  <td data=\"Quantity\">{i.quantity}</td>\r\n                  <td data=\"Price\">${i.product.price.format()}</td>\r\n                </tr>\r\n              );\r\n            })}\r\n          </tbody>\r\n        </Table>\r\n      </ListProduct>\r\n    </DetailContainer>\r\n  );\r\n};\r\n\r\nexport default OrderDe;\r\n","const { default: axiosClient } = require(\"./axiosClient\")\r\n\r\nconst historyApi = {\r\n    getAll: () => {\r\n        const url = '/api/history'\r\n        return axiosClient.get(url)\r\n    },\r\n    get: (id) => {\r\n        const url = `/api/history/${id}`\r\n        return axiosClient.get(url)\r\n    },\r\n    changeStatus: (id, status) => {\r\n        const url = `/api/history/${id}`\r\n        return axiosClient.post(url, { status })\r\n    }\r\n}\r\n\r\nexport default historyApi","import historyApi from \"api/historyApi\";\r\nimport Toast from \"component/shared/Toast/Toast\";\r\nimport { Button } from \"globalCss\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport {\r\n  Action,\r\n  ContainerHistory,\r\n  Status,\r\n  Table,\r\n} from \"../Order/Order.element\";\r\n\r\nconst History = () => {\r\n  const [orders, setOrders] = useState([]);\r\n\r\n  useEffect(() => {\r\n    historyApi\r\n      .getAll()\r\n      .then((res) => {\r\n        if (res?.orders) {\r\n          setOrders(res.orders);\r\n        }\r\n      })\r\n      .catch((err) => console.log(err));\r\n  });\r\n  const handleChangeStatus = (id, status) => {\r\n    if (window.confirm(\"Are you sure  ?\")) {\r\n      historyApi\r\n        .changeStatus(id, status)\r\n        .then((res) => {\r\n          if (res.status === 500) return Toast.warn(res.data.msg);\r\n        })\r\n        .catch((err) => console.log(err));\r\n    }\r\n  };\r\n  if (orders.length === 0)\r\n    return (\r\n      <p style={{ fontSize: \"2rem\", textAlign: \"center\" }}>\r\n        There are no orders placed yet.\r\n      </p>\r\n    );\r\n  return (\r\n    <ContainerHistory>\r\n      <Table>\r\n        <thead>\r\n          <tr>\r\n            <th>ID</th>\r\n            <th>ID User</th>\r\n            <th>Date</th>\r\n            <th>Status</th>\r\n            <th>Action</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {orders.map((i) => {\r\n            const date = new Date(i.createdAt);\r\n\r\n            return (\r\n              <tr key={i._id}>\r\n                <td data=\"ID\">{i._id}</td>\r\n                <td data=\"UserID\">{i.userId}</td>\r\n                <td data=\"Date\">{date.toLocaleDateString()}</td>\r\n                <Status data=\"Status\" $status={i.status}>\r\n                  {i.status}\r\n                </Status>\r\n                <Action data=\"Action\">\r\n                  <div>\r\n                    <Link to={`/history/${i._id}`}>View</Link>\r\n                    <Button\r\n                      bgColor=\"cancel\"\r\n                      onClick={() => handleChangeStatus(i._id, \"canceled\")}\r\n                    >\r\n                      Cancel\r\n                    </Button>\r\n                    <Button\r\n                      bgColor=\"green\"\r\n                      onClick={() => handleChangeStatus(i._id, \"shipped\")}\r\n                    >\r\n                      Shipped\r\n                    </Button>\r\n                  </div>\r\n                </Action>\r\n              </tr>\r\n            );\r\n          })}\r\n        </tbody>\r\n      </Table>\r\n    </ContainerHistory>\r\n  );\r\n};\r\n\r\nexport default History;\r\n","import historyApi from \"api/historyApi\";\r\nimport { Table } from \"component/Order/Order.element\";\r\nimport {\r\n  Address,\r\n  DetailContainer,\r\n  OrderDetail,\r\n  OrderId,\r\n} from \"component/Order/OrderDetail/OrderDetail.element\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nconst HistoryDetail = () => {\r\n  const params = useParams();\r\n  const [order, setOrder] = useState();\r\n  useEffect(() => {\r\n    if (params.id) {\r\n      historyApi\r\n        .get(params.id)\r\n        .then((res) => {\r\n          setOrder(res.order);\r\n        })\r\n        .catch((err) => console.log(err));\r\n    } else {\r\n      setOrder({});\r\n    }\r\n  }, [params]);\r\n  if (!order) return <p>Loading</p>;\r\n  return (\r\n    <DetailContainer>\r\n      <h2>History Detail</h2>\r\n      <OrderDetail>\r\n        <OrderId>\r\n          <p>Order {order._id}</p>\r\n          <p>Placed on:{new Date(order.createdAt).toLocaleDateString()}</p>\r\n        </OrderId>\r\n        <p>Total: ${order.total}</p>\r\n      </OrderDetail>\r\n      <Address>\r\n        <p>Shipping Address</p>\r\n        <p>\r\n          {order.name} ({order.phone})\r\n        </p>\r\n        <p>{order.address}</p>\r\n      </Address>\r\n\r\n      <Table>\r\n        <thead>\r\n          <tr>\r\n            <th></th>\r\n            <th>Name </th>\r\n            <th>Quantity</th>\r\n            <th>Price</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody\r\n          style={{\r\n            backgroundColor: \"#fff\",\r\n          }}\r\n        >\r\n          {order.card.map((i) => {\r\n            return (\r\n              <tr key={i._id}>\r\n                <td>\r\n                  <img\r\n                    style={{\r\n                      width: \"80px\",\r\n                      height: \"100px\",\r\n                      objectFit: \"cover\",\r\n                    }}\r\n                    src={i.product.image.url}\r\n                    alt=\"img\"\r\n                  />\r\n                </td>\r\n                <td data=\"Name\">{i.product.title}</td>\r\n                <td data=\"Quantity\">{i.quantity}</td>\r\n                <td data=\"Price\">${i.product.price.format()}</td>\r\n              </tr>\r\n            );\r\n          })}\r\n        </tbody>\r\n      </Table>\r\n    </DetailContainer>\r\n  );\r\n};\r\n\r\nexport default HistoryDetail;\r\n","import { CreateProduct } from \"component\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { useParams } from \"react-router-dom\";\r\n\r\nconst UpdateProduct = () => {\r\n  const params = useParams();\r\n  const { data } = useSelector((state) => state.product);\r\n\r\n  const [product, setProduct] = useState();\r\n  const [index, setIndex] = useState(-1);\r\n  useEffect(() => {\r\n    if (params.id) {\r\n      data.map((i, index) => {\r\n        if (i._id === params.id) {\r\n          setIndex(index);\r\n          return setProduct(i);\r\n        }\r\n        return \"\";\r\n      });\r\n    }\r\n  }, [params]);\r\n  if (!product) return <p>not found</p>;\r\n  return <CreateProduct product={product} index={index} />;\r\n};\r\n\r\nexport default UpdateProduct;\r\n","import styled from \"styled-components\";\r\n\r\nexport const Footer = styled.footer`\r\n    background-color:#5f5f5f;\r\n    color:white;\r\n    margin-top:60px;\r\n    \r\n    bottom:0;\r\n    left:0;\r\n`\r\nexport const Container = styled.div`\r\n    padding:10px;\r\n    display:flex;\r\n   \r\n    flex-direction:row;\r\n    div{\r\n        max-width:50%;\r\n    }\r\n    @media screen and (max-width:960px){\r\n        padding:30px;\r\n        \r\n        flex-direction:column;\r\n       \r\n        div{\r\n            max-width:100%;\r\n        }\r\n           \r\n    }\r\n    \r\n    justify-content:space-between;\r\n`\r\nexport const Contact = styled.div`\r\n    max-width:50%;\r\n    \r\n\r\n`\r\nexport const ContactItem = styled.div`\r\n    display:flex;\r\n    align-items:center;\r\n    margin-bottom:10px;\r\n   \r\n    div{\r\n        padding:5px 5px;\r\n        background-color:#231E23;\r\n        border-radius:50%;\r\n        border:1px solid #ffffff;\r\n        margin-right:10px;\r\n    }\r\n    p{\r\n        :hover{\r\n            color:#1261e0;\r\n            cursor: pointer;\r\n        }\r\n    }\r\n`\r\nexport const About = styled.div`\r\n    *{\r\n        margin-top:10px;\r\n    }\r\n    p{\r\n        font-size:1.2rem;\r\n    }\r\n    span{\r\n        opacity:0.7;\r\n    }\r\n    div{\r\n        display:flex;\r\n        a{\r\n                padding:10px;\r\n                border-radius:5px;\r\n                border:1px solid #ffffff;\r\n                width:fit-content;\r\n                margin-left:10px;\r\n                background-color:#231E23;\r\n                :hover{\r\n                    cursor: pointer;\r\n                    opacity:0.7;\r\n                }\r\n        }\r\n    }\r\n`","import React from \"react\";\r\nimport { ImLocation, ImPhone, ImFacebook, ImLinkedin2 } from \"react-icons/im\";\r\nimport { FiMail, FiGithub } from \"react-icons/fi\";\r\nimport {\r\n  Footer,\r\n  Container,\r\n  Contact,\r\n  ContactItem,\r\n  About,\r\n} from \"./footer.element\";\r\nconst footer = () => {\r\n  return (\r\n    <Footer>\r\n      <Container>\r\n        <Contact>\r\n          <ContactItem>\r\n            <div>\r\n              <ImLocation size={30} />\r\n            </div>\r\n            <p>\r\n              135B, Tran Hung Dao street, district 1, <strong>HCM city</strong>\r\n            </p>\r\n          </ContactItem>\r\n          <ContactItem>\r\n            <div>\r\n              <ImPhone size={30} />\r\n            </div>\r\n            <p>+84 394 742 274</p>\r\n          </ContactItem>\r\n          <ContactItem>\r\n            <div>\r\n              <FiMail size={30} />\r\n            </div>\r\n            <p>dobanoi1999@gmail.com</p>\r\n          </ContactItem>\r\n        </Contact>\r\n        <About>\r\n          <p>About the company</p>\r\n          <span>\r\n            Lorem ipsum dolor sit amet consectetur adipisicing elit. Harum\r\n            quibusdam unde, quisquam repellat, veritatis et officiis nisi\r\n            voluptatibus neque necessitatibus fugit. Hic vel accusantium itaque\r\n            iure, qui repellat natus ex.0\r\n          </span>\r\n          <div>\r\n            <a href=\"https://www.facebook.com/dobanoimap\">\r\n              <ImFacebook size={30} />\r\n            </a>\r\n            <a href=\"https://www.linkedin.com/in/do-noi-2a371b201/\">\r\n              <ImLinkedin2 size={30} />\r\n            </a>\r\n            <a href=\"https://github.com/dobanoi\">\r\n              <FiGithub size={30} />\r\n            </a>\r\n          </div>\r\n        </About>\r\n      </Container>\r\n    </Footer>\r\n  );\r\n};\r\n\r\nexport default footer;\r\n","import styled, { keyframes } from \"styled-components\";\r\n\r\n\r\nexport const ModalElement = styled.div`\r\n\r\n    position:fixed;\r\n    top:0;\r\n    right:0;\r\n    left:0;\r\n    bottom:0;\r\n    z-index:50;\r\n    background-color:rgba(0,0,0,0.7);\r\n    padding:1.5rem;\r\n    @media screen and (max-width:960px){\r\n        padding:0;\r\n    }\r\n   \r\n`\r\nexport const ButtonCloseModal = styled.button`\r\n    \r\n        position:fixed;\r\n        top:1rem;\r\n        right:1rem;\r\n        width:2rem;\r\n        height:2rem;\r\n        display:inline-flex;\r\n        justify-content:center;\r\n        align-items:center;\r\n        background-color:#ffffff;\r\n        color:#000000;\r\n        border-radius:9999px;\r\n        z-index:99999;\r\n        :hover{\r\n            color:rgba(0,0,0,0.6);\r\n        }\r\n        transition:all 300ms ease-in-out;\r\n        cursor: pointer;\r\n    \r\n`\r\nexport const WrapperForm = styled.div`\r\n    width:100%;\r\n    height:100%;\r\n    margin-left:auto;\r\n    margin-right:auto;\r\n    display:flex;\r\n    justify-content:center;\r\n    align-items:center;\r\n`\r\n","import React, { useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { changeShow } from \"redux/action/modal\";\r\nimport { ModalElement, ButtonCloseModal, WrapperForm } from \"./Modal.element\";\r\nconst Modal = ({ children }) => {\r\n  const dispatch = useDispatch();\r\n\r\n  return (\r\n    <ModalElement>\r\n      <ButtonCloseModal onClick={() => dispatch(changeShow(false))}>\r\n        X\r\n      </ButtonCloseModal>\r\n      <WrapperForm>{children}</WrapperForm>\r\n    </ModalElement>\r\n  );\r\n};\r\n\r\nexport default Modal;\r\n","import cartApi from 'api/cartApi';\r\nimport categoryApi from 'api/categoryApi';\r\nimport LoggedRoute from 'component/common/LoggedRoute';\r\nimport PrivateRoute from 'component/common/PrivateRoute';\r\nimport { useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\r\nimport { ToastContainer, Zoom } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport { fetchCategory } from 'redux/action/category';\r\nimport authApi from './api/authApi';\r\nimport productApi from './api/productApi';\r\n\r\nimport {\r\n  Cart,\r\n  Category,\r\n  CheckOut,\r\n  CreateProduct,\r\n  Header,\r\n  Order,\r\n  OrderDetail,\r\n  LoginForm,\r\n  ProductDetail,\r\n  ProductList,\r\n  RegisterForm,\r\n  History,\r\n  HistoryDetail,\r\n  UpdateProduct,\r\n  Footer,\r\n  Modal,\r\n\r\n} from './component';\r\nimport { getCart } from './redux/action/cart';\r\nimport { fetchProductList, fetchProductListFail, fetchProductListSuccess } from './redux/action/product';\r\n\r\nfunction App() {\r\n\r\n  Number.prototype.format = function (n, x) {\r\n    var re = '\\\\d(?=(\\\\d{' + (x || 3) + '})+' + (n > 0 ? '\\\\.' : '$') + ')';\r\n    return this.toFixed(Math.max(0, ~~n)).replace(new RegExp(re, 'g'), '$&,');\r\n  };\r\n  const dispatch = useDispatch()\r\n  const isLogged = useSelector(state => state.auth.isLogged)\r\n  const modal = useSelector(state => state.modal)\r\n  if (modal.show) {\r\n    document.body.style.overflow = \"hidden\"\r\n  } else {\r\n    document.body.style.overflow = \"auto\"\r\n  }\r\n  const token = localStorage.getItem(\"token\")\r\n  const fetchProducts = () => {\r\n    dispatch(fetchProductList())\r\n    productApi.getAll()\r\n      .then(res => {\r\n\r\n        const { products } = res\r\n\r\n        dispatch(fetchProductListSuccess(products))\r\n      })\r\n      .catch(err => {\r\n        console.log(err)\r\n        dispatch(fetchProductListFail(err.message))\r\n      })\r\n  }\r\n  const verify = () => {\r\n    authApi.verify()\r\n      .then(res => {\r\n        if (typeof res !== \"undefined\") {\r\n          dispatch({ type: \"LOGGED\", payload: res })\r\n        }\r\n      })\r\n      .catch(err => console.log(err))\r\n  }\r\n  const checkAdmin = () => {\r\n    authApi.getInfor()\r\n      .then(res => {\r\n\r\n        if (res?.user?.role === 1) {\r\n          dispatch({ type: \"SET_ADMIN\", payload: true })\r\n        } else {\r\n          dispatch({ type: \"SET_ADMIN\", payload: false })\r\n        }\r\n      })\r\n      .catch(err => console.log(err))\r\n  }\r\n  const fetchAllCategory = () => {\r\n    categoryApi.fetchAllCategory()\r\n      .then(res => {\r\n        dispatch(fetchCategory(res.categorys))\r\n      })\r\n      .catch(err => console.log(err))\r\n  }\r\n  const fetchCart = () => {\r\n\r\n    cartApi.getCart(token)\r\n      .then(res => {\r\n\r\n        if (res?.cart) {\r\n          dispatch(getCart(res.cart))\r\n        }\r\n\r\n      })\r\n      .catch(err => console.log(err))\r\n  }\r\n  useEffect(() => {\r\n\r\n    if (!isLogged && token) {\r\n      verify()\r\n      checkAdmin()\r\n    }\r\n    if (isLogged) {\r\n      fetchCart()\r\n      fetchAllCategory()\r\n    }\r\n    fetchProducts()\r\n  }, [isLogged])\r\n\r\n\r\n  return (\r\n    <>\r\n      <ToastContainer draggable={true} autoClose={6000} transition={Zoom} />\r\n\r\n\r\n\r\n      <Router>\r\n        {modal.show && <Modal>\r\n          {modal.view === \"LOGIN_FORM\" && <LoginForm />}\r\n          {modal.view === \"REGISTER_FORM\" && < RegisterForm />}\r\n          {modal.view === \"CART\" && <Cart />}\r\n        </Modal>}\r\n        <Header />\r\n\r\n        <Switch>\r\n          <PrivateRoute path=\"/category\" component={Category} />\r\n          <Route path=\"/\" exact component={ProductList} />\r\n\r\n          <Route path=\"/product/:id\" component={ProductDetail} />\r\n          <LoggedRoute path=\"/cart\" component={Cart} />\r\n\r\n\r\n          <LoggedRoute path='/checkout' component={CheckOut} />\r\n\r\n          <LoggedRoute path='/my_order' exact component={Order} />\r\n          <LoggedRoute path='/my_order/:id' component={OrderDetail} />\r\n          <PrivateRoute path='/create_product' component={CreateProduct} />\r\n          <PrivateRoute path='/history' exact component={History} />\r\n          <PrivateRoute path='/history/:id' exact component={HistoryDetail} />\r\n          <PrivateRoute path='/update_product/:id' component={UpdateProduct} />\r\n          <Route component={() => <h1>not found</h1>} />\r\n        </Switch>\r\n        <Footer />\r\n      </Router>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","\r\nconst productReducer = (state = {\r\n    loading: false,\r\n    err: \"\",\r\n    data: []\r\n}, action) => {\r\n\r\n    switch (action.type) {\r\n        case \"FETCH_PRODUCT_LIST\":\r\n\r\n            return {\r\n                ...state,\r\n                loading: true\r\n            }\r\n        case \"FETCH_PRODUCT_LIST_SUCCESS\":\r\n            return {\r\n                data: [...action.payload],\r\n                loading: false,\r\n                err: \"\",\r\n            }\r\n        case \"FETCH_PRODUCT_LIST_FAIL\":\r\n\r\n            return {\r\n                ...state,\r\n                err: action.payload || \"Load failed\",\r\n                loading: false\r\n            }\r\n        case \"ADD_PRODUCT\":\r\n\r\n            return {\r\n                ...state,\r\n                data: [...state.data.push(action.payload)]\r\n            }\r\n\r\n        case \"REMOVE_PRODUCT\":\r\n\r\n            return {\r\n                state,\r\n                data: [...state.data.splice(action.payload, 1)]\r\n            }\r\n\r\n        case \"UPDATE_PRODUCT\":\r\n            const { title, price, image, description, _id, category } = action.payload.product\r\n            const data = [...state.data]\r\n            data[action.payload.index] = {\r\n                title,\r\n                price,\r\n                image,\r\n                description,\r\n                _id,\r\n                category\r\n            }\r\n            return {\r\n                ...state,\r\n                data\r\n            }\r\n\r\n        default:\r\n            return state\r\n\r\n    }\r\n}\r\n\r\nexport default productReducer","\r\nconst authReducer = (state = {\r\n    isAdmin: false,\r\n    isLogged: false\r\n}, action) => {\r\n    switch (action.type) {\r\n        case \"SET_ADMIN\":\r\n            return state = {\r\n                ...state,\r\n                isAdmin: action.payload\r\n            }\r\n        case \"LOGGED\":\r\n            return state = {\r\n                ...state,\r\n                isLogged: action.payload\r\n            }\r\n\r\n        default:\r\n            return state\r\n    }\r\n}\r\nexport default authReducer","\r\nconst categoryReducer = (categorys = [], action) => {\r\n    switch (action.type) {\r\n        case \"FETCH_CATEGORY\":\r\n            return categorys = action.payload\r\n        case \"CREATE_CATEGORY\":\r\n            categorys.push(action.payload)\r\n            return [...categorys]\r\n\r\n        case \"UPDATE_CATEGORY\":\r\n\r\n            categorys[action.payload.index] = {\r\n                ...categorys[action.payload.index],\r\n                name: action.payload.category\r\n            }\r\n            return [...categorys]\r\n\r\n        case \"REMOVE_CATEGORY\":\r\n            categorys.splice(action.payload, 1)\r\n            return [...categorys]\r\n\r\n        default:\r\n            return categorys\r\n    }\r\n}\r\n\r\nexport default categoryReducer","\r\nconst cartReducer = (cart = [], action) => {\r\n    switch (action.type) {\r\n        case \"GET_CART\":\r\n            return action.payload\r\n        case \"DELETE\":\r\n            cart.splice(action.payload, 1);\r\n            return [...cart]\r\n        case \"DECREASE\":\r\n            cart[action.payload].quantity -= 1;\r\n            return [...cart]\r\n        case \"INCREASE\":\r\n            cart[action.payload].quantity += 1;\r\n            return [...cart]\r\n        case \"ADD_CART\":\r\n\r\n            cart.push(action.payload)\r\n            return [...cart]\r\n        default:\r\n            return cart;\r\n    }\r\n}\r\n\r\nexport default cartReducer","\r\nconst orderReducer = (orders = [], action) => {\r\n    switch (action.type) {\r\n        case \"FETCH_ORDER\":\r\n            return action.payload\r\n        case \"ADD_ORDER\":\r\n            orders.push(action.payload)\r\n            return [...orders]\r\n        case \"CANCEL_ORDER\":\r\n            orders[action.payload].status = \"canceled\"\r\n            return [...orders]\r\n        default:\r\n            return orders\r\n    }\r\n}\r\nexport default orderReducer","const Modal = (state = { view: \"LOGIN_FORM\", show: false }, action) => {\r\n    switch (action.type) {\r\n        case \"CHANGE_SHOW\":\r\n\r\n            return {\r\n                ...state,\r\n                show: action.payload\r\n            }\r\n        case \"SET_MODAL_VIEW\":\r\n            return {\r\n                ...state,\r\n                view: action.payload\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n\r\n}\r\n\r\nexport default Modal","import { combineReducers } from \"redux\";\r\nimport productReducer from './product'\r\nimport authReducer from './auth'\r\nimport categoryReducer from \"./category\";\r\nimport cartReducer from \"./cart\";\r\nimport orderReducer from \"./order\";\r\nimport modalReducer from \"./modal\";\r\nconst rootReducer = combineReducers({\r\n    cart: cartReducer,\r\n    product: productReducer,\r\n    auth: authReducer,\r\n    category: categoryReducer,\r\n    orders: orderReducer,\r\n    modal: modalReducer\r\n})\r\nexport default rootReducer","import { createStore, applyMiddleware } from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\nimport rootReducer from './reducers'\r\nconst middleware = [thunk]\r\n\r\nconst store = createStore(\r\n    rootReducer,\r\n    applyMiddleware(...middleware)\r\n)\r\nexport default store ","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Provider } from 'react-redux';\r\nimport App from './App';\r\nimport GlobalStyle from './globalCss';\r\nimport store from './redux/store';\r\n\r\n\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <React.StrictMode>\r\n      <GlobalStyle />\r\n      <App />\r\n    </React.StrictMode>\r\n  </Provider>\r\n  ,\r\n  document.getElementById('root')\r\n);\r\n\r\n\r\n"],"sourceRoot":""}